{"remainingRequest":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/babel-loader/lib/index.js!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/views/eval/IncidentDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/views/eval/IncidentDetail.vue","mtime":1640207172536},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/babel.config.js","mtime":1639107483667},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/babel-loader/lib/index.js","mtime":1641411773354},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js","mtime":1641411773606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2wiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc2V0IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvd29taXRvd29qdS93b3Jrc3BhY2UvYWlkYS9WRVJESS1VSS9HVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy93b21pdG93b2p1L3dvcmtzcGFjZS9haWRhL1ZFUkRJLVVJL0dVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CgpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRGF0YVRhYmxlIGZyb20gJ0AvY29tcG9uZW50cy9EYXRhVGFibGUnOwppbXBvcnQgU2VsZWN0RHJvcGRvd24gZnJvbSAnQC9jb21wb25lbnRzL1NlbGVjdERyb3Bkb3duJzsKaW1wb3J0IFF1ZXJ5U3VibWlzc2lvbk1peGluIGZyb20gJ0AvbWl4aW5zL1F1ZXJ5U3VibWlzc2lvbk1peGluJzsKaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBUQUJMRVNFTEVDVElPTlMsIFRBQkxFRklFTERNQVBQSU5HLCBEQVRBVFlQRVMsIExPQURJTkdNRVNTQUdFLCBOT0RBVEFNRVNTQUdFLCBJTkNJREVOVE1BUFBJTkcsIFNFTEVDVERJU1BMQVksIFBBUkFNRVRFUk5BTUVTLCBKT0lOU1RSSU5HLCBnZXRJbmNpZGVudE5hbWUsIGdldEluY2lkZW50SWQsIFRhYmxlU2V0dGluZ3MsIEhlYWRlckNvbmZpZyB9IGZyb20gIi4uLy4uL3V0aWxzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbmNpZGVudERldGFpbCcsCiAgbWl4aW5zOiBbUXVlcnlTdWJtaXNzaW9uTWl4aW5dLAogIGNvbXBvbmVudHM6IHsKICAgIERhdGFUYWJsZTogRGF0YVRhYmxlLAogICAgU2VsZWN0RHJvcGRvd246IFNlbGVjdERyb3Bkb3duCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF9zb3J0OwoKICAgIHJldHVybiB7CiAgICAgIHNvcnQ6IChfc29ydCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3NvcnQsIFRBQkxFU0VMRUNUSU9OUy5zb3J0QnksIFRBQkxFRklFTERNQVBQSU5HLmlkKSwgX2RlZmluZVByb3BlcnR5KF9zb3J0LCBUQUJMRVNFTEVDVElPTlMuc29ydERlc2MsIGZhbHNlKSwgX3NvcnQpLAogICAgICBwYWdpbmc6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgVEFCTEVTRUxFQ1RJT05TLml0ZW1zUGVyUGFnZSwgJ0FsbCcpLAogICAgICBzdGF0dXNNZXNzYWdlOiAnJywKICAgICAgc2luQ2x1c3RlcnNCeVNpbklkOiB7fSwKICAgICAgc3VtbWFyeUl0ZW1zQnlTaW5JZDogW10sCiAgICAgIHN1bW1hcnlUeXBlczogW10sCiAgICAgIHNpbklkOiBudWxsLAogICAgICBzZWxlY3REaXNwbGF5OiBTRUxFQ1RESVNQTEFZLmlucHV0LAogICAgICBTSU46IHt9LAogICAgICByZXN1bHRzQW5jaG9yOiAnZXZlbnRfYW5jaG9yXycsCiAgICAgIHRvcEFuY2hvcjogJ3N1bW1hcnlfYW5jaG9yJywKICAgICAgc2Nyb2xsUG9zaXRpb246IDAsCiAgICAgIGN1cnJlbnRQb3NpdGlvbjogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLlRBQkxFRklFTERNQVBQSU5HID0gVEFCTEVGSUVMRE1BUFBJTkc7CiAgICB0aGlzLkRBVEFUWVBFUyA9IERBVEFUWVBFUzsKICAgIHRoaXMuc3RhdHVzTWVzc2FnZSA9IExPQURJTkdNRVNTQUdFOwogICAgdGhpcy5QQVJBTUVURVJOQU1FUyA9IFBBUkFNRVRFUk5BTUVTOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy51cGRhdGVIeXBvdGhlc2lzU2VsZWN0aW9uKHt9KTsKICAgIHRoaXMuc2luSWQgPSBJTkNJREVOVE1BUFBJTkdbMF0uaWQ7CgogICAgaWYgKE9iamVjdC5rZXlzKHRoaXMua25vd2xlZGdlQmFzZSkubGVuZ3RoID09PSAwIHx8ICF0aGlzLmtub3dsZWRnZUJhc2VbREFUQVRZUEVTLnNpbi5pZF0pIHsKICAgICAgdGhpcy5sb2FkU0lORGF0YShEQVRBVFlQRVMuc2luLmlkKTsKICAgIH0KCiAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5hY3RpdmF0ZVNjcm9sbEFycm93KCk7CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydkZWZhdWx0SHlwb3RoZXNpc0RhdGFTb3VyY2UnLCAnaHlwb3RoZXNpc1NlbGVjdGlvbicsICdjdXJyZW50RGF0YVNvdXJjZScsICdrbm93bGVkZ2VCYXNlJ10pKSwge30sIHsKICAgIHN1bW1hcnlEYXRhOiBmdW5jdGlvbiBzdW1tYXJ5RGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3VtbWFyeUl0ZW1zQnlTaW5JZC5sZW5ndGggPiAwID8gdGhpcy5zdW1tYXJ5SXRlbXNCeVNpbklkIDogdGhpcy5nZXREZXRhaWxEYXRhKCk7CiAgICB9LAogICAgdHlwZXM6IGZ1bmN0aW9uIHR5cGVzKCkgewogICAgICByZXR1cm4gdGhpcy5zdW1tYXJ5VHlwZXM7CiAgICB9LAogICAgc2luRGF0YTogZnVuY3Rpb24gc2luRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2luQ2x1c3RlcnNCeVNpbklkOwogICAgfSwKICAgIHNpbklkczogZnVuY3Rpb24gc2luSWRzKCkgewogICAgICByZXR1cm4gSU5DSURFTlRNQVBQSU5HLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LnZhbHVlOwogICAgICB9KTsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ3VwZGF0ZUh5cG90aGVzaXNTZWxlY3Rpb24nXSkpLCB7fSwgewogICAgYnVpbGRTdW1hbXJ5VGFibGU6IGZ1bmN0aW9uIGJ1aWxkU3VtYW1yeVRhYmxlKCkgewogICAgICB2YXIgdGFibGVNYXBwaW5ncyA9IHsKICAgICAgICB0YWJsZVNldHRpbmdzOiBuZXcgVGFibGVTZXR0aW5ncyhUQUJMRUZJRUxETUFQUElORy5pZCwgZmFsc2UsICdDbGFpbXMgU3VtbWFyeScsICcnLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsICdoZWFkbGluZScsIGZhbHNlKSwKICAgICAgICBwcmltYXJ5SGVhZGVyczogW25ldyBIZWFkZXJDb25maWcoJycsICdjZW50ZXInLCBmYWxzZSwgJ2RhdGEtdGFibGUtYW5jaG9yJyksIG5ldyBIZWFkZXJDb25maWcoJ0V2ZW50cycsICdzdGFydCcsIHRydWUsIFRBQkxFRklFTERNQVBQSU5HLmhlYWRsaW5lLCB0cnVlLCBmYWxzZSksIG5ldyBIZWFkZXJDb25maWcoJycsICdzdGFydCcsIHRydWUsIFRBQkxFRklFTERNQVBQSU5HLm5vZGVDb3VudCwgdHJ1ZSwgZmFsc2UpLCBuZXcgSGVhZGVyQ29uZmlnKCcnLCAnc3RhcnQnLCB0cnVlLCBUQUJMRUZJRUxETUFQUElORy5lbnRpdHlDb3VudCwgdHJ1ZSwgZmFsc2UpLCBuZXcgSGVhZGVyQ29uZmlnKCcnLCAnc3RhcnQnLCB0cnVlLCBUQUJMRUZJRUxETUFQUElORy5pZCwgdHJ1ZSwgZmFsc2UpXQogICAgICB9OwogICAgICByZXR1cm4gdGFibGVNYXBwaW5nczsKICAgIH0sCiAgICBidWlsZFRhYmxlQ29uZmlndXJhdGlvbjogZnVuY3Rpb24gYnVpbGRUYWJsZUNvbmZpZ3VyYXRpb24odHlwZSkgewogICAgICB2YXIgY2F0ZWdvcnkgPSB0aGlzLnNpbkRhdGFbdHlwZV1bMF1bVEFCTEVGSUVMRE1BUFBJTkcuc2luVGl0bGVdOwogICAgICB2YXIgcm9sZUhlYWRlcnMgPSBuZXcgTWFwKCk7CiAgICAgIHZhciB0YWJsZU1hcHBpbmdzID0gewogICAgICAgIHRhYmxlU2V0dGluZ3M6IG5ldyBUYWJsZVNldHRpbmdzKFRBQkxFRklFTERNQVBQSU5HLmlkVXJpLCBmYWxzZSwgdHlwZS5zcGxpdChKT0lOU1RSSU5HKVswXSwgY2F0ZWdvcnksIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlLCAnaGVhZGxpbmUnLCBmYWxzZSksCiAgICAgICAgcHJpbWFyeUhlYWRlcnM6IFtuZXcgSGVhZGVyQ29uZmlnKCdDbGFpbScsICdzdGFydCcsIHRydWUsIFRBQkxFRklFTERNQVBQSU5HLmhlYWRsaW5lLCBmYWxzZSwgZmFsc2UpLCBuZXcgSGVhZGVyQ29uZmlnKCdFdmVudCBTdGF0ZW1lbnQnLCAnc3RhcnQnLCB0cnVlLCBUQUJMRUZJRUxETUFQUElORy5zdGF0ZW1lbnQsIGZhbHNlLCB0cnVlKV0KICAgICAgfTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnNpbkRhdGFbdHlwZV0pLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgaHlwb3RoZXNpcyA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgcm9sZUhlYWRlcnMgPSBuZXcgTWFwKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocm9sZUhlYWRlcnMpLCBfdG9Db25zdW1hYmxlQXJyYXkobmV3IE1hcChoeXBvdGhlc2lzW1RBQkxFRklFTERNQVBQSU5HLnJvbGVzXS5tYXAoZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgICAgICAgcmV0dXJuIFtyb2xlLCBuZXcgSGVhZGVyQ29uZmlnKHJvbGUsICdzdGFydCcsIHRydWUsIHJvbGUsIGZhbHNlLCB0cnVlKV07CiAgICAgICAgICB9KSkpKSk7CiAgICAgICAgfSAvL3NvcnQgcm9sZSBoZWFkZXJzCgogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJvbGVIZWFkZXJzID0gbmV3IE1hcChfdG9Db25zdW1hYmxlQXJyYXkocm9sZUhlYWRlcnMpLnNvcnQoKSk7IC8vQWRkIGRhdGUgdG8gcm9sZXMgaW4gb3JkZXIgdG8gY29tcGFyZQoKICAgICAgcm9sZUhlYWRlcnMuc2V0KFRBQkxFRklFTERNQVBQSU5HLmRhdGVzLCBuZXcgSGVhZGVyQ29uZmlnKCdEYXRlJywgJ3N0YXJ0JywgdHJ1ZSwgVEFCTEVGSUVMRE1BUFBJTkcuZGF0ZXMsIGZhbHNlLCB0cnVlKSk7IC8vY29tYmluZSBleGlzdGluZyBwcmltYXJ5IGhlYWRlcnMgd2l0aCByb2xlIGFuZCBtYXRjaCBwZXJjZW50YWdlIGhlYWRlcnMKCiAgICAgIHRhYmxlTWFwcGluZ3MucHJpbWFyeUhlYWRlcnMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRhYmxlTWFwcGluZ3MucHJpbWFyeUhlYWRlcnMpLCBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldChfdG9Db25zdW1hYmxlQXJyYXkocm9sZUhlYWRlcnMudmFsdWVzKCkpKSkpLmNvbmNhdChbbmV3IEhlYWRlckNvbmZpZygnTWF0Y2ggJScsICdlbmQnLCB0cnVlLCBUQUJMRUZJRUxETUFQUElORy5wZXJjZW50YWdlLCB0cnVlLCBmYWxzZSldKTsKICAgICAgcmV0dXJuIHRhYmxlTWFwcGluZ3M7CiAgICB9LAogICAgbGlua1RvRXZhbERvY1NlYXJjaDogZnVuY3Rpb24gbGlua1RvRXZhbERvY1NlYXJjaCgpIHsKICAgICAgd2luZG93Lm9wZW4oJ2h0dHBzOi8vYmxhY2tib3gudmVyZGkubmV4dGNlbnR1cnkuY29tLycsICdfYmxhbmsnKTsKICAgIH0sCiAgICBsaW5rVG9JbmNpZGVudFNlYXJjaDogZnVuY3Rpb24gbGlua1RvSW5jaWRlbnRTZWFyY2goKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZXZhbCcpOwogICAgfSwKICAgIGFjdGl2YXRlU2Nyb2xsQXJyb3c6IGZ1bmN0aW9uIGFjdGl2YXRlU2Nyb2xsQXJyb3coKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzW3RoaXMudG9wQW5jaG9yXSkgewogICAgICAgIHZhciBlbCA9IHRoaXMuJHJlZnNbdGhpcy50b3BBbmNob3JdLiRlbDsKICAgICAgICB2YXIgc2hvd1Bvc2l0aW9uID0gMTAwOwoKICAgICAgICBpZiAoZWwpIHsKICAgICAgICAgIGlmIChkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA+IHNob3dQb3NpdGlvbiB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID4gc2hvd1Bvc2l0aW9uKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxUb0V2ZW50RGV0YWlsczogZnVuY3Rpb24gc2Nyb2xsVG9FdmVudERldGFpbHMobG9jYXRpb24pIHsKICAgICAgaWYgKHRoaXMuJHJlZnNbdGhpcy5yZXN1bHRzQW5jaG9yICsgbG9jYXRpb25dLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFk7CiAgICAgICAgdmFyIGVsID0gdGhpcy4kcmVmc1t0aGlzLnJlc3VsdHNBbmNob3IgKyBsb2NhdGlvbl1bMF0uJGVsOwogICAgICAgIHZhciB5T2Zmc2V0ID0gLTEwMDsKCiAgICAgICAgaWYgKGVsKSB7CiAgICAgICAgICB2YXIgeSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIHlPZmZzZXQ7CiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgICB0b3A6IHkKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNjcm9sbFRvRXZlbnRTdW1tYXJ5OiBmdW5jdGlvbiBzY3JvbGxUb0V2ZW50U3VtbWFyeSgpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFBvc2l0aW9uICE9PSB0aGlzLnNjcm9sbFBvc2l0aW9uKSB7CiAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb24gPSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuY3VycmVudFBvc2l0aW9uID09PSB0aGlzLnNjcm9sbFBvc2l0aW9uKSB7CiAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb24gPSBudWxsOwogICAgICB9CgogICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgIHRvcDogdGhpcy5zY3JvbGxQb3NpdGlvbgogICAgICB9KTsKICAgIH0sCiAgICBnZXRSZWZJZDogZnVuY3Rpb24gZ2V0UmVmSWQodHlwZSkgewogICAgICB2YXIgdGFibGVJZCA9IHRoaXMuc2luQ2x1c3RlcnNCeVNpbklkW3R5cGVdWzBdW1RBQkxFRklFTERNQVBQSU5HLmNsdXN0ZXJMaXN0XVswXVtUQUJMRUZJRUxETUFQUElORy5jbHVzdGVyVXJpXTsKICAgICAgcmV0dXJuIHRoaXMucmVzdWx0c0FuY2hvciArIHRhYmxlSWQ7CiAgICB9LAogICAgZ2V0RGV0YWlsRGF0YTogZnVuY3Rpb24gZ2V0RGV0YWlsRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5rbm93bGVkZ2VCYXNlW0RBVEFUWVBFUy5zaW4uaWRdKSB7CiAgICAgICAgdmFyIHNpbkNsdXN0ZXJzID0gdGhpcy5rbm93bGVkZ2VCYXNlW0RBVEFUWVBFUy5zaW4uaWRdOwoKICAgICAgICBpZiAoc2luQ2x1c3RlcnNbREFUQVRZUEVTLmV2ZW50VHlwZS5pZF0pIHsKICAgICAgICAgIHRoaXMuc2luQ2x1c3RlcnNCeVNpbklkID0gc2luQ2x1c3RlcnNbREFUQVRZUEVTLmV2ZW50VHlwZS5pZF1bdGhpcy5zaW5JZF07CiAgICAgICAgICB0aGlzLnN1bW1hcnlUeXBlcyA9IE9iamVjdC5rZXlzKHRoaXMuc2luQ2x1c3RlcnNCeVNpbklkKS5zb3J0KCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoc2luQ2x1c3RlcnNbREFUQVRZUEVTLnN1bW1hcnkuaWRdKSB7CiAgICAgICAgICB0aGlzLnN1bW1hcnlJdGVtc0J5U2luSWQgPSBzaW5DbHVzdGVyc1tEQVRBVFlQRVMuc3VtbWFyeS5pZF0uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLnNpbiA9PT0gX3RoaXMyLnNpbklkOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zdW1tYXJ5SXRlbXNCeVNpbklkOwogICAgfSwKICAgIHVwZGF0ZVNlbGVjdGVkU2luSWQ6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkU2luSWQoaW5wdXQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnNpbklkID0gZ2V0SW5jaWRlbnRJZChpbnB1dC50YXJnZXQudmFsdWUpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmZpbHRlckRhdGFCeVNpbklkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbHRlckRhdGFCeVNpbklkOiBmdW5jdGlvbiBmaWx0ZXJEYXRhQnlTaW5JZCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgc2luRGF0YSA9IHRoaXMua25vd2xlZGdlQmFzZVtEQVRBVFlQRVMuc2luLmlkXTsKICAgICAgdmFyIHNpbkNsdXN0ZXJzID0gc2luRGF0YVtEQVRBVFlQRVMuZXZlbnRUeXBlLmlkXTsKCiAgICAgIGlmIChPYmplY3Qua2V5cyhzaW5DbHVzdGVycykuaW5jbHVkZXModGhpcy5zaW5JZCkpIHsKICAgICAgICB0aGlzLnNpbkNsdXN0ZXJzQnlTaW5JZCA9IHNpbkNsdXN0ZXJzW3RoaXMuc2luSWRdOwogICAgICAgIHRoaXMuc3VtbWFyeUl0ZW1zQnlTaW5JZCA9IHNpbkRhdGFbREFUQVRZUEVTLnN1bW1hcnkuaWRdLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uc2luID09PSBfdGhpczQuc2luSWQ7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zdW1tYXJ5VHlwZXMgPSBPYmplY3Qua2V5cyh0aGlzLnNpbkNsdXN0ZXJzQnlTaW5JZCkuc29ydCgpOwogICAgICAgIHRoaXMuc3RhdHVzTWVzc2FnZSA9IExPQURJTkdNRVNTQUdFOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2luQ2x1c3RlcnNCeVNpbklkID0ge307CiAgICAgICAgdGhpcy5zdW1tYXJ5SXRlbXNCeVNpbklkID0gW107CiAgICAgICAgdGhpcy5zdW1tYXJ5VHlwZXMgPSBbXTsKICAgICAgICB0aGlzLnN0YXR1c01lc3NhZ2UgPSBOT0RBVEFNRVNTQUdFICsgJyBmb3IgSW5jaWRlbnQ6ICcgKyBnZXRJbmNpZGVudE5hbWUodGhpcy5zaW5JZCk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVGb250c0FuZEJhY2tncm91bmRzOiBmdW5jdGlvbiB1cGRhdGVGb250c0FuZEJhY2tncm91bmRzKGh5cG90aGVzaXMsIHR5cGUsIGlkLCBjb21wYXJlT24pIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBoeXBvdGhlc2lzW1RBQkxFRklFTERNQVBQSU5HLmNvbXBhcmVdID0gY29tcGFyZU9uOwogICAgICBoeXBvdGhlc2lzW1RBQkxFRklFTERNQVBQSU5HLmhpZ2hsaWdodF0gPSBjb21wYXJlT247CgogICAgICBpZiAoIWNvbXBhcmVPbikgewogICAgICAgIHRoaXMucmVzZXRDb2xvclRleHRBbmRQZXJjZW50YWdlKHR5cGUpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaHlwb3RoZXNpc1tUQUJMRUZJRUxETUFQUElORy5wZXJjZW50YWdlXSA9IDEwMDsgLy8gY29sbGVjdCB0aGUgZW50aXRpZXMgb2YgcmVmZXJlbmNlIGh5cG90aGVzaXMKCiAgICAgIHZhciByZWZlcmVuY2VFbnRpdGllcyA9IG5ldyBTZXQodGhpcy5nZXRFbnRpdGllcyhoeXBvdGhlc2lzKSk7CiAgICAgIHZhciByZWZlcmVuY2VTdHJpbmdzID0gbmV3IFNldCh0aGlzLmdldEVudGl0eVN0cmluZ3MoaHlwb3RoZXNpcykpOwogICAgICB2YXIgcmVmZXJlbmNlRGF0ZXMgPSBuZXcgU2V0KGh5cG90aGVzaXNbVEFCTEVGSUVMRE1BUFBJTkcuZGF0ZXNdKTsgLy8gaXRlcmF0ZSBvdmVyIG90aGVyIGh5cG90aGVzZXMgYW5kIHNldCBjb2xvclRleHQgZm9yIGZhbHNlIHBvc2l0aXZlcwoKICAgICAgdmFyIGNvbXBhcmVIeXBvdGhlc2VzID0gdGhpcy5zaW5EYXRhW3R5cGVdLmZpbHRlcihmdW5jdGlvbiAoaCkgewogICAgICAgIHJldHVybiBoW1RBQkxFRklFTERNQVBQSU5HLmlkVXJpXSAhPT0gaWQ7CiAgICAgIH0pOwoKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjb21wYXJlSHlwb3RoZXNlcyksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgICAgICAgdmFyIGNvbXBhcmlzb24gPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICB2YXIgY29tcGFyZUVudGl0aWVzID0gbmV3IFNldChfdGhpczUuZ2V0RW50aXRpZXMoY29tcGFyaXNvbikpOwogICAgICAgICAgdmFyIGNvbXBhcmVTdHJpbmdzID0gbmV3IFNldChfdGhpczUuZ2V0RW50aXR5U3RyaW5ncyhjb21wYXJpc29uKSk7CiAgICAgICAgICB2YXIgY29tcGFyZURhdGVzID0gbmV3IFNldChjb21wYXJpc29uW1RBQkxFRklFTERNQVBQSU5HLmRhdGVzXSk7CiAgICAgICAgICB2YXIgYWxsRW50aXRpZXMgPSBuZXcgU2V0KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocmVmZXJlbmNlRW50aXRpZXMpLCBfdG9Db25zdW1hYmxlQXJyYXkoY29tcGFyZUVudGl0aWVzKSkpOwogICAgICAgICAgdmFyIGFsbERhdGVzID0gbmV3IFNldChbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHJlZmVyZW5jZURhdGVzKSwgX3RvQ29uc3VtYWJsZUFycmF5KGNvbXBhcmVEYXRlcykpKTsKICAgICAgICAgIHZhciBmYWxzZVBvc2l0aXZlID0gMDsKICAgICAgICAgIHZhciBmYWxzZU5lZ2F0aXZlID0gMDsKICAgICAgICAgIHZhciB0cnVlUG9zaXRpdmUgPSAwOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWxsRW50aXRpZXMpLAogICAgICAgICAgICAgIF9zdGVwMzsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciB0ZXN0RW50aXR5ID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgICAgICB2YXIgdGVzdFN0cmluZyA9IF90aGlzNS5nZXRTdHJpbmcodGVzdEVudGl0eSk7CgogICAgICAgICAgICAgIHZhciBpblJlZiA9IHJlZmVyZW5jZVN0cmluZ3MuaGFzKHRlc3RTdHJpbmcpOwogICAgICAgICAgICAgIHZhciBpbkNvbXAgPSBjb21wYXJlU3RyaW5ncy5oYXModGVzdFN0cmluZyk7CgogICAgICAgICAgICAgIGlmIChpblJlZiAhPT0gaW5Db21wKSB7CiAgICAgICAgICAgICAgICBpZiAoaW5SZWYpIHsKICAgICAgICAgICAgICAgICAgZmFsc2VOZWdhdGl2ZSsrOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZmFsc2VQb3NpdGl2ZSsrOwogICAgICAgICAgICAgICAgICB0ZXN0RW50aXR5W1RBQkxFRklFTERNQVBQSU5HLmNvbG9yVGV4dF0gPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBtdXN0IGJlIHRydWUgcG9zaXRpdmUKICAgICAgICAgICAgICAgIHRydWVQb3NpdGl2ZSsrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGRhdGVzQ29tcGFyZWQgPSBuZXcgTWFwKCk7CgogICAgICAgICAgX3RvQ29uc3VtYWJsZUFycmF5KGFsbERhdGVzKS5tYXAoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGVzQ29tcGFyZWQuc2V0KGQsIGQpOwogICAgICAgICAgfSk7CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhbGxEYXRlcyksCiAgICAgICAgICAgICAgX3N0ZXA0OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIHRlc3REYXRlID0gX3N0ZXA0LnZhbHVlOwoKICAgICAgICAgICAgICB2YXIgX2luUmVmID0gcmVmZXJlbmNlRGF0ZXMuaGFzKHRlc3REYXRlKTsKCiAgICAgICAgICAgICAgdmFyIF9pbkNvbXAgPSBjb21wYXJlRGF0ZXMuaGFzKHRlc3REYXRlKTsKCiAgICAgICAgICAgICAgaWYgKF9pblJlZiAhPT0gX2luQ29tcCkgewogICAgICAgICAgICAgICAgaWYgKF9pblJlZikgewogICAgICAgICAgICAgICAgICAvL3ZhbHVlIG9ubHkgZXhpc3RzIGluIHRoZSBzZWxlY3RlZCBoeXBvdGhlc2lzCiAgICAgICAgICAgICAgICAgIGZhbHNlTmVnYXRpdmUrKzsKICAgICAgICAgICAgICAgICAgZGF0ZXNDb21wYXJlZC5kZWxldGUodGVzdERhdGUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kYXRlc0NvbXBhcmVkJHNldDsKCiAgICAgICAgICAgICAgICAgIC8vdmFsdWUgb25seSBleGlzdHMgaW4gdGhlIGNvbXBhcmVkIGh5cG90aGVzaXMKICAgICAgICAgICAgICAgICAgZmFsc2VQb3NpdGl2ZSsrOwogICAgICAgICAgICAgICAgICBkYXRlc0NvbXBhcmVkLnNldCh0ZXN0RGF0ZSwgKF9kYXRlc0NvbXBhcmVkJHNldCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2RhdGVzQ29tcGFyZWQkc2V0LCBUQUJMRUZJRUxETUFQUElORy5jb2xvclRleHQsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2RhdGVzQ29tcGFyZWQkc2V0LCAidGV4dCIsIHRlc3REYXRlKSwgX2RhdGVzQ29tcGFyZWQkc2V0KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vdmFsdWUgZXhpc3RzIGluIGJvdGggdGhlIHNlbGVjdGVkIGFuZCBjb21wYXJlZCBoeXBvdGhlc2lzCiAgICAgICAgICAgICAgICB0cnVlUG9zaXRpdmUrKzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBkYXRlcyA9IF90b0NvbnN1bWFibGVBcnJheShkYXRlc0NvbXBhcmVkLnZhbHVlcygpKTsKCiAgICAgICAgICBpZiAoZGF0ZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb21wYXJpc29uW1RBQkxFRklFTERNQVBQSU5HLmRhdGVzXSA9IGRhdGVzOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBmID0gdHJ1ZVBvc2l0aXZlIC8gKHRydWVQb3NpdGl2ZSArIC41ICogKGZhbHNlUG9zaXRpdmUgKyBmYWxzZU5lZ2F0aXZlKSk7CiAgICAgICAgICBjb21wYXJpc29uW1RBQkxFRklFTERNQVBQSU5HLnBlcmNlbnRhZ2VdID0gTWF0aC5jZWlsKGYgKiAxMDApOwogICAgICAgIH07CgogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICBfbG9vcCgpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0sCiAgICByZXNldENvbG9yVGV4dEFuZFBlcmNlbnRhZ2U6IGZ1bmN0aW9uIHJlc2V0Q29sb3JUZXh0QW5kUGVyY2VudGFnZSh0eXBlKSB7CiAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5zaW5EYXRhW3R5cGVdKSwKICAgICAgICAgIF9zdGVwNTsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBoID0gX3N0ZXA1LnZhbHVlOwogICAgICAgICAgZGVsZXRlIGhbVEFCTEVGSUVMRE1BUFBJTkcucGVyY2VudGFnZV07CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmdldEVudGl0aWVzKGgpKSwKICAgICAgICAgICAgICBfc3RlcDY7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gX3N0ZXA2LnZhbHVlOwogICAgICAgICAgICAgIGVudGl0eVtUQUJMRUZJRUxETUFQUElORy5jb2xvclRleHRdID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjYuZigpOwogICAgICAgICAgfQoKICAgICAgICAgIGhbVEFCTEVGSUVMRE1BUFBJTkcuZGF0ZXNdID0gaFtUQUJMRUZJRUxETUFQUElORy5kYXRlc10ubWFwKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgIHJldHVybiBkLmhhc093blByb3BlcnR5KFRBQkxFRklFTERNQVBQSU5HLmNvbG9yVGV4dCkgPyBkLnRleHQgOiBkOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgfQogICAgfSwKICAgIGdldFN0cmluZzogZnVuY3Rpb24gZ2V0U3RyaW5nKGUpIHsKICAgICAgdmFyIHR5cGVzID0gZVtUQUJMRUZJRUxETUFQUElORy5yZXNvbHZlZFR5cGVdID8gZVtUQUJMRUZJRUxETUFQUElORy5yZXNvbHZlZFR5cGVdIDogZVtUQUJMRUZJRUxETUFQUElORy50eXBlc10uam9pbignLCcpOwogICAgICByZXR1cm4gZVtUQUJMRUZJRUxETUFQUElORy5yb2xlc11bMF0gKyAnIC0gJyArIGVbVEFCTEVGSUVMRE1BUFBJTkcuaGVhZGxpbmVdICsgJyAtICcgKyB0eXBlczsKICAgIH0sCiAgICBnZXRFbnRpdHlTdHJpbmdzOiBmdW5jdGlvbiBnZXRFbnRpdHlTdHJpbmdzKGh5cG90aGVzaXMpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0RW50aXRpZXMoaHlwb3RoZXNpcykubWFwKHRoaXMuZ2V0U3RyaW5nKTsKICAgIH0sCiAgICBnZXRFbnRpdGllczogZnVuY3Rpb24gZ2V0RW50aXRpZXMoaHlwb3RoZXNpcykgewogICAgICByZXR1cm4gaHlwb3RoZXNpc1tUQUJMRUZJRUxETUFQUElORy5jbHVzdGVyTGlzdF0uZmxhdE1hcChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjW1RBQkxFRklFTERNQVBQSU5HLmVudGl0eUxpc3RdOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVJdGVtc0ZvckNvbXBhcmlzb246IGZ1bmN0aW9uIHVwZGF0ZUl0ZW1zRm9yQ29tcGFyaXNvbihyb3cpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgc2VsZWN0ZWRIeXBvdGhlc2lzID0ge307CiAgICAgIHZhciByZW1vdmVTdHlsaW5nID0gcm93Lml0ZW1bVEFCTEVGSUVMRE1BUFBJTkcuY29tcGFyZV0gPT09IHRydWUgJiYgcm93Lml0ZW1bVEFCTEVGSUVMRE1BUFBJTkcuaWRVcmldID09PSB0aGlzLmh5cG90aGVzaXNTZWxlY3Rpb25bVEFCTEVGSUVMRE1BUFBJTkcuaWRVcmldOwoKICAgICAgZm9yICh2YXIgY2x1c3RlclR5cGUgaW4gdGhpcy5zaW5EYXRhKSB7CiAgICAgICAgaWYgKHRoaXMuc2luRGF0YS5oYXNPd25Qcm9wZXJ0eShjbHVzdGVyVHlwZSkpIHsKICAgICAgICAgIC8vVHVybiBvZmYgY29tcGFyaXNvbiBoaWdobGlnaHRpbmcgZm9yIHByZXZpb3VzbHkgc2VsZWN0ZWQgaHlwb3RoZXNpcwogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuaHlwb3RoZXNpc1NlbGVjdGlvbikubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgcHJldmlvdXNIeXBvdGhlc2lzID0gdGhpcy5zaW5EYXRhW2NsdXN0ZXJUeXBlXS5maW5kKGZ1bmN0aW9uIChoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGhbVEFCTEVGSUVMRE1BUFBJTkcuaWRVcmldID09PSBfdGhpczYuaHlwb3RoZXNpc1NlbGVjdGlvbltUQUJMRUZJRUxETUFQUElORy5pZFVyaV07CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKHByZXZpb3VzSHlwb3RoZXNpcykgewogICAgICAgICAgICAgIHRoaXMudXBkYXRlRm9udHNBbmRCYWNrZ3JvdW5kcyhwcmV2aW91c0h5cG90aGVzaXMsIGNsdXN0ZXJUeXBlLCB0aGlzLmh5cG90aGVzaXNTZWxlY3Rpb25bVEFCTEVGSUVMRE1BUFBJTkcuaWRVcmldLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIXJlbW92ZVN0eWxpbmcpIHsKICAgICAgICAgICAgLy9UdXJuIG9uIGNvbXBhcmlzb24gaGlnaGxpZ2h0aW5nIGZvciBjdXJyZW50bHkgc2VsZWN0ZWQgaHlwb3RoZXNpcyBhbmQgc2F2ZSB0byB0aGUgc3RvcmUKICAgICAgICAgICAgdmFyIGh5cG90aGVzaXMgPSB0aGlzLnNpbkRhdGFbY2x1c3RlclR5cGVdLmZpbmQoZnVuY3Rpb24gKGgpIHsKICAgICAgICAgICAgICByZXR1cm4gaFtUQUJMRUZJRUxETUFQUElORy5pZFVyaV0gPT09IHJvdy5pdGVtW1RBQkxFRklFTERNQVBQSU5HLmlkVXJpXTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoaHlwb3RoZXNpcykgewogICAgICAgICAgICAgIHRoaXMudXBkYXRlRm9udHNBbmRCYWNrZ3JvdW5kcyhoeXBvdGhlc2lzLCBjbHVzdGVyVHlwZSwgcm93Lml0ZW1bVEFCTEVGSUVMRE1BUFBJTkcuaWRVcmldLCB0cnVlKTsKCiAgICAgICAgICAgICAgaWYgKGNsdXN0ZXJUeXBlID09PSByb3cudHlwZSkgewogICAgICAgICAgICAgICAgc2VsZWN0ZWRIeXBvdGhlc2lzID0gaHlwb3RoZXNpczsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlSHlwb3RoZXNpc1NlbGVjdGlvbihyZW1vdmVTdHlsaW5nID8ge30gOiBzZWxlY3RlZEh5cG90aGVzaXMpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["IncidentDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n  - Copyright 2019 Next Century Corporation/CACI\n  -\n  - Licensed under the Apache License, Version 2.0 (the \"License\");\n  - you may not use this file except in compliance with the License.\n  - You may obtain a copy of the License at\n  -\n  -       http://www.apache.org/licenses/LICENSE-2.0\n  -\n  - Unless required by applicable law or agreed to in writing, software\n  - distributed under the License is distributed on an \"AS IS\" BASIS,\n  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  - See the License for the specific language governing permissions and\n  - limitations under the License.\n  -\n-->\n\n<template>\n    <div>\n        <v-icon :ref=\"topAnchor\"\n                @click=\"scrollToEventSummary()\"\n                title=\"return to Event Summary\"\n                class=\"scroll-top-icon dark-icon-button\"\n        >\n            mdi-arrow-up-bold\n        </v-icon>\n        <div class=\"page-content\">\n            <div class=\"element-list-header\">\n                <div class=\"primary-page-header-left\">Incident Details</div>\n                <div class=\"page-header-right\">\n                    <button id=\"compare_button\" class=\"dark-app-button\" @click=\"linkToIncidentSearch()\">\n                        <v-icon class=\"button-icon\">mdi-compare</v-icon>\n                        Incident Search\n                    </button>\n                    <button id=\"doc_button\" class=\"dark-app-button\" @click=\"linkToEvalDocSearch()\">\n                        <v-icon class=\"button-icon\">mdi-file-document-box-search-outline</v-icon>\n                        Document Search\n                    </button>\n                </div>\n            </div>\n            <div class=\"page-header-element-space\">\n                <SelectDropdown\n                        :options=\"sinIds\"\n                        :selectDisplay=\"selectDisplay\"\n                        :selectedOption=\"sinId\"\n                        @selectDropdownChange=\"updateSelectedSinId($event)\">\n                </SelectDropdown>\n            </div>\n            <div v-if=\"loading===true\" class=\"loading-section\">\n                <v-progress-linear indeterminate></v-progress-linear>\n                <div class=\"loading-message-clear\">{{statusMessage}}</div>\n            </div>\n            <div v-else>\n                <div class=\"section-space\" v-if=\"summaryData\">\n                    <DataTable\n                        :data=\"summaryData\"\n                        :sort=\"sort\"\n                        :loading=\"summaryData === 0\"\n                        :paging=\"paging\"\n                        :tableConfiguration=\"buildSumamryTable()\"\n                        :statusMessage=\"statusMessage\"\n                        :hideFooter=true\n                        :hideHeader=true\n                        @anchorScroll=\"scrollToEventDetails($event)\"\n                    ></DataTable>\n                </div>\n                <div class=\"section-space loading-section\" v-else>\n                    <div class=\"loading-message-clear\">{{statusMessage}}</div>\n                </div>\n                <div v-for=\"(type, index) in types\" :key=\"index\" :class=\"index > 0 ? 'section-space' : ''\">\n                    <DataTable\n                        :ref=\"getRefId(type)\"\n                        :data=\"sinData[type]\"\n                        :sort=\"sort\"\n                        :loading=\"sinData[type] && Object.keys(sinData[type]).length === 0\"\n                        :paging=\"paging\"\n                        :tableConfiguration=\"buildTableConfiguration(type)\"\n                        :statusMessage=\"statusMessage\"\n                        @activateCompare=\"updateItemsForComparison($event)\"\n                        :hideFooter=true\n                        :hideHeader=true\n                    ></DataTable>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import DataTable from '@/components/DataTable';\n    import SelectDropdown from '@/components/SelectDropdown';\n    import QuerySubmissionMixin from '@/mixins/QuerySubmissionMixin';\n    import { mapMutations, mapState} from 'vuex';\n    import {\n        TABLESELECTIONS,\n        TABLEFIELDMAPPING,\n        DATATYPES,\n        LOADINGMESSAGE,\n        NODATAMESSAGE,\n        INCIDENTMAPPING,\n        SELECTDISPLAY,\n        PARAMETERNAMES,\n        JOINSTRING,\n        getIncidentName,\n        getIncidentId,\n        TableSettings,\n        HeaderConfig\n    } from '../../utils';\n\n    export default {\n        name: 'IncidentDetail',\n        mixins: [QuerySubmissionMixin],\n        components: {DataTable, SelectDropdown},\n        data: () => ({\n            sort: {[TABLESELECTIONS.sortBy]: TABLEFIELDMAPPING.id, [TABLESELECTIONS.sortDesc]: false},\n            paging: {[TABLESELECTIONS.itemsPerPage]:'All'},\n            statusMessage: '',\n            sinClustersBySinId : {},\n            summaryItemsBySinId: [],\n            summaryTypes: [],\n            sinId: null,\n            selectDisplay: SELECTDISPLAY.input,\n            SIN: {},\n            resultsAnchor: 'event_anchor_',\n            topAnchor: 'summary_anchor',\n            scrollPosition: 0,\n            currentPosition: null\n        }),\n        created() {\n            this.TABLEFIELDMAPPING = TABLEFIELDMAPPING;\n            this.DATATYPES = DATATYPES;\n            this.statusMessage = LOADINGMESSAGE;\n            this.PARAMETERNAMES = PARAMETERNAMES;\n        },\n        mounted() {\n            this.updateHypothesisSelection({});\n            this.sinId = INCIDENTMAPPING[0].id;\n\n            if(Object.keys(this.knowledgeBase).length === 0 || !this.knowledgeBase[DATATYPES.sin.id]) {\n                this.loadSINData(DATATYPES.sin.id);\n            }\n\n            window.onscroll = () => this.activateScrollArrow();\n        },\n        computed: {\n            ...mapState(['defaultHypothesisDataSource', 'hypothesisSelection','currentDataSource', 'knowledgeBase']),\n            summaryData() {\n                return this.summaryItemsBySinId.length > 0  ? this.summaryItemsBySinId : this.getDetailData();\n            },\n            types() {\n                return this.summaryTypes;\n            },\n            sinData() {\n                return this.sinClustersBySinId;\n            },\n            sinIds() {\n                return INCIDENTMAPPING.map(v => v.value);\n            }\n        },\n        methods: {\n            ...mapMutations(['updateHypothesisSelection']),\n            buildSumamryTable() {\n                let tableMappings = {\n                    tableSettings: new TableSettings(TABLEFIELDMAPPING.id, false, 'Claims Summary', '', false, false, false, false, false, 'headline', false),\n                    primaryHeaders: [\n                        new HeaderConfig('', 'center', false, 'data-table-anchor'),\n                        new HeaderConfig('Events', 'start', true, TABLEFIELDMAPPING.headline, true, false),\n                        new HeaderConfig('', 'start', true, TABLEFIELDMAPPING.nodeCount, true, false),\n                        new HeaderConfig('', 'start', true, TABLEFIELDMAPPING.entityCount, true, false),\n                        new HeaderConfig('', 'start', true, TABLEFIELDMAPPING.id, true, false)\n                    ]\n                };\n\n                return tableMappings;\n            },\n            buildTableConfiguration(type) {\n                const category = this.sinData[type][0][TABLEFIELDMAPPING.sinTitle];\n                let roleHeaders = new Map();\n                let tableMappings = {\n                    tableSettings: new TableSettings(TABLEFIELDMAPPING.idUri, false, type.split(JOINSTRING)[0], category, false, false, false, false, true, 'headline', false),\n                    primaryHeaders: [\n                        new HeaderConfig('Claim', 'start', true, TABLEFIELDMAPPING.headline, false, false),\n                        new HeaderConfig('Event Statement', 'start', true, TABLEFIELDMAPPING.statement, false, true)\n                    ]\n                };\n\n                for (const hypothesis of this.sinData[type]) {\n                    roleHeaders = new Map([...roleHeaders, ...new Map(hypothesis[TABLEFIELDMAPPING.roles].map(role =>\n                        [role, new HeaderConfig(role, 'start', true, role, false, true)]\n                    ))]);\n                }\n                //sort role headers\n                roleHeaders = new Map([...roleHeaders].sort());\n\n                //Add date to roles in order to compare\n                roleHeaders.set(TABLEFIELDMAPPING.dates, new HeaderConfig('Date', 'start', true, TABLEFIELDMAPPING.dates, false, true));\n\n                //combine existing primary headers with role and match percentage headers\n                tableMappings.primaryHeaders = [\n                    ...[...tableMappings.primaryHeaders, ...new Set([...roleHeaders.values()])],\n                    ...[new HeaderConfig('Match %', 'end', true, TABLEFIELDMAPPING.percentage, true, false)]\n                ];\n\n                return tableMappings;\n            },\n            linkToEvalDocSearch () {\n                window.open('https://blackbox.verdi.nextcentury.com/', '_blank');\n            },\n            linkToIncidentSearch () {\n                this.$router.push('/eval');\n            },\n            activateScrollArrow() {\n                if(this.$refs[this.topAnchor]) {\n                    const el = this.$refs[this.topAnchor].$el;\n                    const showPosition = 100;\n                    if (el) {\n                        if (document.body.scrollTop > showPosition || document.documentElement.scrollTop > showPosition) {\n                            el.style.display = 'block';\n                        } else {\n                            el.style.display = 'none';\n                        }\n                    }\n                }\n            },\n            scrollToEventDetails(location) {\n                if(this.$refs[this.resultsAnchor + location].length > 0) {\n                    this.scrollPosition = window.scrollY;\n                    const el = this.$refs[this.resultsAnchor + location][0].$el;\n                    const yOffset = -100;\n                    if (el) {\n                        const y = el.getBoundingClientRect().top + window.pageYOffset + yOffset;\n                        window.scrollTo({top: y})\n                    }\n                }\n            },\n            scrollToEventSummary() {\n                if(this.currentPosition !== this.scrollPosition) {\n                    this.currentPosition = window.scrollY;\n                }\n\n                if(this.currentPosition === this.scrollPosition) {\n                    this.scrollPosition = 0;\n                    this.currentPosition = null;\n                }\n\n                window.scrollTo({ top: this.scrollPosition });\n            },\n            getRefId(type) {\n                const tableId = this.sinClustersBySinId[type][0][TABLEFIELDMAPPING.clusterList][0][TABLEFIELDMAPPING.clusterUri];\n                return this.resultsAnchor + tableId;\n            },\n            getDetailData() {\n                if(this.knowledgeBase[DATATYPES.sin.id]) {\n                    const sinClusters = this.knowledgeBase[DATATYPES.sin.id];\n                    if (sinClusters[DATATYPES.eventType.id]) {\n                        this.sinClustersBySinId = sinClusters[DATATYPES.eventType.id][this.sinId];\n                        this.summaryTypes = Object.keys(this.sinClustersBySinId).sort();\n                    }\n\n                    if (sinClusters[DATATYPES.summary.id]) {\n                        this.summaryItemsBySinId = sinClusters[DATATYPES.summary.id].filter(item => item.sin === this.sinId);\n                    }\n                }\n                return this.summaryItemsBySinId;\n            },\n            updateSelectedSinId(input) {\n                this.sinId = getIncidentId(input.target.value);\n                this.$nextTick(() => {\n                    this.filterDataBySinId();\n                });\n            },\n            filterDataBySinId() {\n                const sinData = this.knowledgeBase[DATATYPES.sin.id];\n                const sinClusters = sinData[DATATYPES.eventType.id];\n                if (Object.keys(sinClusters).includes(this.sinId)) {\n                    this.sinClustersBySinId = sinClusters[this.sinId];\n                    this.summaryItemsBySinId = sinData[DATATYPES.summary.id].filter(item => item.sin === this.sinId);\n                    this.summaryTypes = Object.keys(this.sinClustersBySinId).sort();\n                    this.statusMessage = LOADINGMESSAGE;\n                }\n                else {\n                    this.sinClustersBySinId = {};\n                    this.summaryItemsBySinId = [];\n                    this.summaryTypes = [];\n                    this.statusMessage = NODATAMESSAGE + ' for Incident: ' + getIncidentName(this.sinId);\n                }\n            },\n            updateFontsAndBackgrounds(hypothesis, type, id, compareOn) {\n                hypothesis[TABLEFIELDMAPPING.compare] = compareOn;\n                hypothesis[TABLEFIELDMAPPING.highlight] = compareOn;\n\n                if (!compareOn) {\n                    this.resetColorTextAndPercentage(type);\n                    return;\n                }\n\n                hypothesis[TABLEFIELDMAPPING.percentage] = 100;\n\n                // collect the entities of reference hypothesis\n                const referenceEntities = new Set(this.getEntities(hypothesis));\n                const referenceStrings = new Set(this.getEntityStrings(hypothesis));\n                const referenceDates = new Set(hypothesis[TABLEFIELDMAPPING.dates]);\n\n                // iterate over other hypotheses and set colorText for false positives\n                const compareHypotheses = this.sinData[type].filter(h => h[TABLEFIELDMAPPING.idUri] !== id);\n                for(const comparison of compareHypotheses) {\n                    const compareEntities = new Set(this.getEntities(comparison));\n                    const compareStrings = new Set(this.getEntityStrings(comparison));\n                    const compareDates = new Set(comparison[TABLEFIELDMAPPING.dates]);\n                    const allEntities = new Set([...referenceEntities, ...compareEntities]);\n                    const allDates = new Set([...referenceDates, ...compareDates]);\n\n                    let falsePositive = 0;\n                    let falseNegative = 0;\n                    let truePositive = 0;\n                    for (const testEntity of allEntities) {\n                        const testString = this.getString(testEntity);\n                        const inRef = referenceStrings.has(testString);\n                        const inComp = compareStrings.has(testString);\n\n                        if (inRef !== inComp) {\n                            if (inRef) {\n                                falseNegative++;\n                            } else {\n                                falsePositive++;\n                                testEntity[TABLEFIELDMAPPING.colorText] = true;\n                            }\n                        } else { \n                            // must be true positive\n                            truePositive++;\n                        }\n                    }\n\n                    let datesCompared = new Map();\n                    [...allDates].map(d => datesCompared.set(d, d));\n\n                    for(const testDate of allDates) {\n                        const inRef = referenceDates.has(testDate);\n                        const inComp = compareDates.has(testDate);\n\n                        if (inRef !== inComp) {\n                            if (inRef) {\n                                //value only exists in the selected hypothesis\n                                falseNegative++;\n                                datesCompared.delete(testDate);\n                            } else {\n                                //value only exists in the compared hypothesis\n                                falsePositive++;\n                                datesCompared.set(testDate, {[TABLEFIELDMAPPING.colorText] : true, text : testDate});\n                            }\n                        } else {\n                            //value exists in both the selected and compared hypothesis\n                            truePositive++;\n                        }\n                    }\n\n                    const dates = [...datesCompared.values()];\n                    if(dates.length > 0) {\n                        comparison[TABLEFIELDMAPPING.dates] = dates;\n                    }\n\n                    const f =  truePositive / (truePositive + .5 * (falsePositive + falseNegative));\n                    comparison[TABLEFIELDMAPPING.percentage] = Math.ceil(f * 100);\n                }\n            },\n            resetColorTextAndPercentage(type) {\n                for (const h of this.sinData[type]) {\n                    delete h[TABLEFIELDMAPPING.percentage];\n                    for (const entity of this.getEntities(h)) {\n                        entity[TABLEFIELDMAPPING.colorText] = false;\n                    }\n                    h[TABLEFIELDMAPPING.dates] = h[TABLEFIELDMAPPING.dates].map(d => d.hasOwnProperty(TABLEFIELDMAPPING.colorText) ? d.text : d);\n                }\n            },\n            getString(e) {\n                const types = e[TABLEFIELDMAPPING.resolvedType] ? e[TABLEFIELDMAPPING.resolvedType] : e[TABLEFIELDMAPPING.types].join(',');\n                return e[TABLEFIELDMAPPING.roles][0] + ' - ' + e[TABLEFIELDMAPPING.headline] + ' - ' + types;\n            },\n            getEntityStrings(hypothesis) {\n                return this.getEntities(hypothesis).map(this.getString);\n            },\n            getEntities(hypothesis) {\n                return hypothesis[TABLEFIELDMAPPING.clusterList].flatMap(c => c[TABLEFIELDMAPPING.entityList]);\n            },\n            updateItemsForComparison(row) {\n                let selectedHypothesis = {};\n                let removeStyling = row.item[TABLEFIELDMAPPING.compare] === true &&\n                    row.item[TABLEFIELDMAPPING.idUri] === this.hypothesisSelection[TABLEFIELDMAPPING.idUri];\n                for(const clusterType in this.sinData) {\n                    if(this.sinData.hasOwnProperty(clusterType)) {\n                        //Turn off comparison highlighting for previously selected hypothesis\n                        if(Object.keys(this.hypothesisSelection).length > 0) {\n                            let previousHypothesis = this.sinData[clusterType]\n                                .find(h => h[TABLEFIELDMAPPING.idUri] === this.hypothesisSelection[TABLEFIELDMAPPING.idUri]);\n                            if(previousHypothesis) {\n                                this.updateFontsAndBackgrounds(previousHypothesis, clusterType, this.hypothesisSelection[TABLEFIELDMAPPING.idUri], false);\n                            }\n                        }\n\n                        if(!removeStyling) {\n                            //Turn on comparison highlighting for currently selected hypothesis and save to the store\n                            let hypothesis = this.sinData[clusterType]\n                                .find(h => h[TABLEFIELDMAPPING.idUri] === row.item[TABLEFIELDMAPPING.idUri]);\n                            if (hypothesis) {\n                                this.updateFontsAndBackgrounds(hypothesis, clusterType, row.item[TABLEFIELDMAPPING.idUri], true);\n\n                                if (clusterType === row.type) {\n                                    selectedHypothesis = hypothesis;\n                                }\n                            }\n                        }\n                    }\n                }\n                this.updateHypothesisSelection(removeStyling ? {} : selectedHypothesis);\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .loading-section {\n        margin: 48px 0;\n    }\n\n    .loading-message-clear {\n        @include flex-row-nowrap;\n        justify-content: center;\n        height: 60px;\n        padding: 16px;\n    }\n\n    .scroll-top-icon{\n        display: none;\n        background-color: $theme-icon-color;\n        position: fixed;\n        bottom: 20px;\n        left: 1%;\n        z-index: 99;\n        font-size: 20px;\n        border: none;\n        outline: none;\n        color: white;\n        cursor: pointer;\n        padding: 10px;\n        border-radius: 4px;\n    }\n\n</style>\n\n"],"sourceRoot":"src/views/eval"}]}