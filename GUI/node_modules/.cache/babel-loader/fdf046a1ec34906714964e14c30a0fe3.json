{"remainingRequest":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/babel-loader/lib/index.js!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/components/EvalJob.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/components/EvalJob.vue","mtime":1640207172527},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/babel.config.js","mtime":1639107483667},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/babel-loader/lib/index.js","mtime":1641411773354},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js","mtime":1641411773606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZXZhbENsaWVudCB9IGZyb20gIi4uL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIGRldGFpbHM6IHt9LAogICAgICBmdXR1cmVQb2xsOiBudWxsLAogICAgICBjdXJyZW50UG9sbDogbnVsbCwKICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGpvYjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmVKb2I6IGZ1bmN0aW9uIHJlbW92ZUpvYigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgZXZhbENsaWVudC5kZWxldGUoJ2pvYi8nICsgdGhpcy5qb2IpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRlbWl0KCdyZW1vdmVkJywgewogICAgICAgICAgam9iOiBfdGhpcy5qb2IKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRlbWl0KCdyZW1vdmVkJywgewogICAgICAgICAgZXJyOiAnRXJyb3IgZHVyaW5nIHJlbW92YWw6ICcgKyBKU09OLnN0cmluZ2lmeShlcnIpCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsKICAgICAgICB0aGlzLm9wZW4gPSAhdGhpcy5vcGVuOwoKICAgICAgICBpZiAodGhpcy5vcGVuKSB7CiAgICAgICAgICB0aGlzLnN0YXJ0UG9sbGluZygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnJlbW92ZUZ1dHVyZVBvbGwoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzdGFydFBvbGxpbmc6IGZ1bmN0aW9uIHN0YXJ0UG9sbGluZygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnJlbW92ZUZ1dHVyZVBvbGwoKTsKCiAgICAgIGlmICghdGhpcy5jdXJyZW50UG9sbCkgewogICAgICAgIHRoaXMuY3VycmVudFBvbGwgPSBldmFsQ2xpZW50LmdldCgnam9iLycgKyB0aGlzLmpvYikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLmRldGFpbHMgPSByZXMuZGF0YTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMyLmRldGFpbHMgPSBlcnIucmVzcG9uc2UgPyBlcnIucmVzcG9uc2Uuc3RhdHVzIDogZXJyLm1lc3NhZ2UgKyAnLiBQbGVhc2UgY29udGFjdCB0aGUgYW1pbmlzdHJhdG9yJzsKICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5jdXJyZW50UG9sbCA9IG51bGw7CgogICAgICAgICAgaWYgKF90aGlzMi5vcGVuKSB7CiAgICAgICAgICAgIF90aGlzMi5mdXR1cmVQb2xsID0gc2V0VGltZW91dChfdGhpczIuc3RhcnRQb2xsaW5nLCAxMDAwKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUZ1dHVyZVBvbGw6IGZ1bmN0aW9uIHJlbW92ZUZ1dHVyZVBvbGwoKSB7CiAgICAgIGlmICh0aGlzLmZ1dHVyZVBvbGwgIT09IG51bGwpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5mdXR1cmVQb2xsKTsKICAgICAgICB0aGlzLmZ1dHVyZVBvbGwgPSBudWxsOwogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICB0aGlzLnJlbW92ZUZ1dHVyZVBvbGwoKTsKICB9Cn07"},{"version":3,"sources":["EvalJob.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAA,UAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,IAHA;AAIA,MAAA,WAAA,EAAA,IAJA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAAA,GADA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GARA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,MAAA,CAAA,SAAA,KAAA,GAAA,EACA,IADA,CACA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,SAAA,EAAA;AAAA,UAAA,GAAA,EAAA,KAAA,CAAA;AAAA,SAAA;AACA,OAHA,EAGA,KAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,SAAA,EAAA;AAAA,UAAA,GAAA,EAAA,2BAAA,IAAA,CAAA,SAAA,CAAA,GAAA;AAAA,SAAA;AACA,OALA;AAMA,KAVA;AAWA,IAAA,MAXA,oBAWA;AACA,UAAA,CAAA,KAAA,QAAA,EAAA;AACA,aAAA,IAAA,GAAA,CAAA,KAAA,IAAA;;AACA,YAAA,KAAA,IAAA,EAAA;AACA,eAAA,YAAA;AACA,SAFA,MAEA;AACA,eAAA,gBAAA;AACA;AACA;AACA,KApBA;AAqBA,IAAA,YArBA,0BAqBA;AAAA;;AACA,WAAA,gBAAA;;AACA,UAAA,CAAA,KAAA,WAAA,EAAA;AACA,aAAA,WAAA,GAAA,UAAA,CAAA,GAAA,CAAA,SAAA,KAAA,GAAA,EACA,IADA,CACA,UAAA,GAAA;AAAA,iBAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AAAA,SADA,EAEA,KAFA,CAEA,UAAA,GAAA;AAAA,iBAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,QAAA,GAAA,GAAA,CAAA,QAAA,CAAA,MAAA,GAAA,GAAA,CAAA,OAAA,GAAA,mCAAA;AAAA,SAFA,EAGA,OAHA,CAGA,YAAA;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,IAAA;;AACA,cAAA,MAAA,CAAA,IAAA,EAAA;AACA,YAAA,MAAA,CAAA,UAAA,GAAA,UAAA,CAAA,MAAA,CAAA,YAAA,EAAA,IAAA,CAAA;AACA;AACA,SARA,CAAA;AASA;AACA,KAlCA;AAmCA,IAAA,gBAnCA,8BAmCA;AACA,UAAA,KAAA,UAAA,KAAA,IAAA,EAAA;AACA,QAAA,YAAA,CAAA,KAAA,UAAA,CAAA;AACA,aAAA,UAAA,GAAA,IAAA;AACA;AACA;AAxCA,GAdA;AAwDA,EAAA,aAxDA,2BAwDA;AACA,SAAA,IAAA,GAAA,KAAA;AACA,SAAA,gBAAA;AACA;AA3DA,CAAA","sourcesContent":["<!--\n  - Copyright 2021 Next Century Corporation/CACI\n  -\n  - Licensed under the Apache License, Version 2.0 (the \"License\");\n  - you may not use this file except in compliance with the License.\n  - You may obtain a copy of the License at\n  -\n  -       http://www.apache.org/licenses/LICENSE-2.0\n  -\n  - Unless required by applicable law or agreed to in writing, software\n  - distributed under the License is distributed on an \"AS IS\" BASIS,\n  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  - See the License for the specific language governing permissions and\n  - limitations under the License.\n  -\n  -->\n\n<template>\n    <div>\n        <span :class=\"disabled ? 'disabled' : 'clickable'\" @click=\"toggle\">\n            <v-icon v-if=\"open\">mdi-minus-box-outline</v-icon>\n            <v-icon v-else>mdi-plus-box-outline</v-icon>\n            <span>{{ job }}</span>\n        </span>\n        <v-icon v-on:click=\"removeJob()\">mdi-trash-can-outline</v-icon>\n        <div class=details v-if=\"open\">\n            <div>{{ details }}</div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {evalClient} from '../api'\n    export default {\n        data: () => ({\n            open: false,\n            details: {},\n            futurePoll: null,\n            currentPoll: null,\n            disabled: false\n        }),\n        props: {\n            job: {\n                type: String,\n                required: true\n            }\n        },\n        methods: {\n            removeJob() {\n                this.open = false;\n                this.disabled = true;\n                evalClient.delete('job/' + this.job)\n                .then(() => {\n                    this.$emit('removed', {job: this.job})\n                }).catch(err => {\n                    this.$emit('removed', {err: 'Error during removal: ' + JSON.stringify(err)});\n                });\n            },\n            toggle() {\n                if (!this.disabled) {\n                    this.open = !this.open;\n                    if (this.open) {\n                        this.startPolling();\n                    } else {\n                        this.removeFuturePoll();\n                    }\n                }\n            },\n            startPolling() {\n                this.removeFuturePoll();\n                if (!this.currentPoll) {\n                    this.currentPoll = evalClient.get('job/' + this.job)\n                        .then(res => this.details = res.data)\n                        .catch(err => this.details = err.response ? err.response.status : err.message + '. Please contact the aministrator')\n                        .finally(() => {\n                            this.currentPoll = null;\n                            if (this.open) {\n                                this.futurePoll = setTimeout(this.startPolling, 1000);\n                            }\n                        });\n                }\n            },\n            removeFuturePoll() {\n                if (this.futurePoll !== null) {\n                    clearTimeout(this.futurePoll);\n                    this.futurePoll = null;\n                }\n            }\n        },\n        beforeDestroy() {\n            this.open = false;\n            this.removeFuturePoll();\n        }\n    }\n</script>\n\n<style scoped>\n    .details {\n        margin-left: 30px;\n    }\n    .clickable {\n        cursor: pointer;\n    }\n    .disabled {\n        color: #9e9e9e\n    }\n</style>\n"],"sourceRoot":"src/components"}]}