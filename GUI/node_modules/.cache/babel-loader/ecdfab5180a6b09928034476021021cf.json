{"remainingRequest":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/babel-loader/lib/index.js!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/views/eval/IncidentSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/views/eval/IncidentSearch.vue","mtime":1640207172536},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/babel.config.js","mtime":1639107483667},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/babel-loader/lib/index.js","mtime":1641411773354},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js","mtime":1641411773606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2wiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnNldCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL3dvbWl0b3dvanUvd29ya3NwYWNlL2FpZGEvVkVSREktVUkvR1VJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL3dvbWl0b3dvanUvd29ya3NwYWNlL2FpZGEvVkVSREktVUkvR1VJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvd29taXRvd29qdS93b3Jrc3BhY2UvYWlkYS9WRVJESS1VSS9HVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy93b21pdG93b2p1L3dvcmtzcGFjZS9haWRhL1ZFUkRJLVVJL0dVSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CgpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTXVsdGlTZWxlY3RBdXRvQ29tcGxldGUgZnJvbSAnQC9jb21wb25lbnRzL011bHRpU2VsZWN0QXV0b0NvbXBsZXRlJzsKaW1wb3J0IENsYWltcyBmcm9tICdAL3ZpZXdzL2FuYWx5emUvQ2xhaW1zJzsKaW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IFNFQVJDSFRZUEVTLCBJTkNJREVOVE1BUFBJTkcsIGdldFR5cGUsIGdldFJvbGUsIGNsZWFuTmFtZSwgc29ydENhc2VJbnNlbnNpdGl2ZSB9IGZyb20gIi4uLy4uL3V0aWxzIjsKaW1wb3J0IEFQSSBmcm9tICIuLi8uLi9hcGkiOyAvL2NvbnN0IGN1cnJlbnRSZXF1ZXN0cyA9IG5ldyBNYXAoKTsKCnZhciBDTEFJTUZJTFRFUlMgPSB7CiAgZXZlbnQ6ICdldmVudEZpbHRlcicsCiAgZW50aXR5OiAnZW50aXR5RmlsdGVyJywKICByb2xlOiAncm9sZUZpbHRlcicKfTsKCnZhciBWaWV3ID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBWaWV3KHR5cGUsIGRpc2FibGVkKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXcpOwoKICB0aGlzLnR5cGUgPSB0eXBlOwogIHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDsKfSk7Cgp2YXIgRmlsdGVyID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBGaWx0ZXIoKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7CgogIHRoaXMuZW50aXR5SWRzID0gW107CiAgdGhpcy5ldmVudFR5cGVzID0gW107CiAgdGhpcy5yb2xlcyA9IFtdOwp9KTsKCnZhciBRdWVyeVZhbHVlcyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gUXVlcnlWYWx1ZXMoKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1ZXJ5VmFsdWVzKTsKCiAgdGhpc1tDTEFJTUZJTFRFUlMuZW50aXR5XSA9IHt9OwogIHRoaXNbQ0xBSU1GSUxURVJTLmV2ZW50XSA9IHt9OwogIHRoaXNbQ0xBSU1GSUxURVJTLnJvbGVdID0ge307Cn0pOwoKZnVuY3Rpb24gaW5pdGlhbFN0YXRlKCkgewogIHJldHVybiB7CiAgICBjbGFpbUZpbHRlcnM6IHt9LAogICAgZm9ybWF0dGVkRmlsdGVyczogW10sCiAgICBxdWVyeUV2ZW50VHlwZXM6IHt9LAogICAgcXVlcnlOYW1lZEVudGl0aWVzOiB7fSwKICAgIHF1ZXJ5Um9sZXM6IHt9LAogICAgYWxsUXVlcnlWYWx1ZXM6IHt9LAogICAgcmVzdWx0c0FuY2hvcjogJ2NsYWltX3Jlc3VsdHMnLAogICAgdmlld3M6IHsKICAgICAgcmVzZXRRdWVyeTogbmV3IFZpZXcoJ3Jlc2V0UXVlcnknLCBmYWxzZSksCiAgICAgIGNsYWltUmVzdWx0czogbmV3IFZpZXcoJ2NsYWltUmVzdWx0cycsIHRydWUpCiAgICB9CiAgfTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbmNpZGVudFNlYXJjaCcsCiAgY29tcG9uZW50czogewogICAgQ2xhaW1zOiBDbGFpbXMsCiAgICBNdWx0aVNlbGVjdEF1dG9Db21wbGV0ZTogTXVsdGlTZWxlY3RBdXRvQ29tcGxldGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gaW5pdGlhbFN0YXRlKCk7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5DTEFJTUZJTFRFUlMgPSBDTEFJTUZJTFRFUlM7CiAgICB0aGlzLlNFQVJDSFRZUEVTID0gU0VBUkNIVFlQRVM7CiAgICB0aGlzLklOQ0lERU5UTUFQUElORyA9IElOQ0lERU5UTUFQUElORzsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cuc2Nyb2xsKHsKICAgICAgdG9wOiAwLAogICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgIH0pOwogICAgdGhpcy5yZXNldFF1ZXJ5Rm9ybSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGV2ZW50VHlwZXM6IGZ1bmN0aW9uIGV2ZW50VHlwZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldFByZXR0eUxhYmVscyh0aGlzLnF1ZXJ5RXZlbnRUeXBlcyk7CiAgICB9LAogICAgbmFtZWRFbnRpdGllczogZnVuY3Rpb24gbmFtZWRFbnRpdGllcygpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJldHR5TGFiZWxzKHRoaXMucXVlcnlOYW1lZEVudGl0aWVzKTsKICAgIH0sCiAgICByb2xlczogZnVuY3Rpb24gcm9sZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldFByZXR0eUxhYmVscyh0aGlzLnF1ZXJ5Um9sZXMpOwogICAgfSwKICAgIGZvcm1hdHRlZENsYWltczogZnVuY3Rpb24gZm9ybWF0dGVkQ2xhaW1zKCkgewogICAgICByZXR1cm4gdGhpcy5mb3JtYXR0ZWRGaWx0ZXJzOwogICAgfSwKICAgIHNpbklkczogZnVuY3Rpb24gc2luSWRzKCkgewogICAgICByZXR1cm4gSU5DSURFTlRNQVBQSU5HLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LmlkOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsndXBkYXRlU2luU2VsZWN0aW9uJ10pKSwge30sIHsKICAgIGxpbmtUb0V2YWxEb2NTZWFyY2g6IGZ1bmN0aW9uIGxpbmtUb0V2YWxEb2NTZWFyY2goKSB7CiAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL2JsYWNrYm94LnZlcmRpLm5leHRjZW50dXJ5LmNvbS8nLCAnX2JsYW5rJyk7CiAgICB9LAogICAgbGlua1RvSW5jaWRlbnREZXRhaWxzOiBmdW5jdGlvbiBsaW5rVG9JbmNpZGVudERldGFpbHMoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZXZhbC9pbmNpZGVudF9kZXRhaWwnKTsKICAgIH0sCiAgICBjb21wbGV0ZWRTZWFyY2g6IGZ1bmN0aW9uIGNvbXBsZXRlZFNlYXJjaCh2YWx1ZSkgewogICAgICB0aGlzLiRyZWZzLnNlYXJjaEJ1dHRvbi5kaXNhYmxlZCA9ICF2YWx1ZTsKICAgIH0sCiAgICBnZXRQcmV0dHlMYWJlbHM6IGZ1bmN0aW9uIGdldFByZXR0eUxhYmVscyhpdGVtcykgewogICAgICAvL3JlbW92ZSBkdXBsaWNhdGVzIGFuZCBzb3J0CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhpdGVtcykgPyBzb3J0Q2FzZUluc2Vuc2l0aXZlKF90b0NvbnN1bWFibGVBcnJheShPYmplY3Qua2V5cyhpdGVtcykpKSA6IGl0ZW1zOwogICAgfSwKICAgIHNjcm9sbFRvUmVzdWx0czogZnVuY3Rpb24gc2Nyb2xsVG9SZXN1bHRzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbCA9IF90aGlzLiRyZWZzW190aGlzLnJlc3VsdHNBbmNob3JdLiRlbDsKCiAgICAgICAgaWYgKGVsKSB7CiAgICAgICAgICBlbC5zY3JvbGxJbnRvVmlldyh7CiAgICAgICAgICAgIHRvcDogJ3Bvc2l0aW9uJywKICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldENsYWltRmlsdGVyczogZnVuY3Rpb24gc2V0Q2xhaW1GaWx0ZXJzKGtleXMsIHF1ZXJ5U2V0LCBmaWx0ZXIpIHsKICAgICAgdmFyIGZpbHRlcnMgPSBbXTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihrZXlzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGtleSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgdmFyIFVSSXMgPSB0aGlzW3F1ZXJ5U2V0XVtrZXldID8gdGhpc1txdWVyeVNldF1ba2V5XSA6IFtdOwogICAgICAgICAgZmlsdGVycyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZmlsdGVycyksIF90b0NvbnN1bWFibGVBcnJheShVUklzKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2xhaW1GaWx0ZXJzW2ZpbHRlcl0gPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldChmaWx0ZXJzKSk7CiAgICB9LAogICAgdXBkYXRlRXZlbnRUeXBlczogZnVuY3Rpb24gdXBkYXRlRXZlbnRUeXBlcyh0eXBlcykgewogICAgICB0aGlzLmNsYWltRmlsdGVycy5ldmVudFR5cGVzID0gW107CgogICAgICBpZiAodHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuc2V0Q2xhaW1GaWx0ZXJzKHR5cGVzLCAncXVlcnlFdmVudFR5cGVzJywgJ2V2ZW50VHlwZXMnKTsKCiAgICAgICAgdmFyIGVudGl0eUlkcyA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KHRoaXMuY2xhaW1GaWx0ZXJzLmVudGl0eUlkcy5mbGF0TWFwKGZ1bmN0aW9uIChlbnRpdHkpIHsKICAgICAgICAgIHJldHVybiBlbnRpdHkuaWRzOwogICAgICAgIH0pKSk7CgogICAgICAgIHZhciByb2xlSWRzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQodGhpcy5jbGFpbUZpbHRlcnMucm9sZXMuZmxhdE1hcChmdW5jdGlvbiAocm9sZSkgewogICAgICAgICAgcmV0dXJuIHJvbGUuaWRzOwogICAgICAgIH0pKSk7CgogICAgICAgIHZhciBldmVudFR5cGVJZHMgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh0aGlzLmNsYWltRmlsdGVycy5ldmVudFR5cGVzLmZsYXRNYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlkczsKICAgICAgICB9KSkpOyAvL3VwZGF0ZSByb2xlcyBhbmQgbmFtZXMgZm9yIHRoZSBjbGFpbUZpbHRlciBpZiB0aGV5IGRvbid0IGhhdmUgc2VsZWN0ZWQgdmFsdWVzIGFscmVhZHkKCgogICAgICAgIGlmICh0aGlzLmNsYWltRmlsdGVycy5yb2xlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHRoaXMuZ2V0Um9sZXMoZXZlbnRUeXBlSWRzLCBlbnRpdHlJZHMpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuY2xhaW1GaWx0ZXJzLmVudGl0eUlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHRoaXMuZ2V0RW50aXR5TmFtZXMoZXZlbnRUeXBlSWRzLCByb2xlSWRzKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9ubyB0eXBlIGZpbHRlcnMgc3VibWl0dGVkLCByZXNldCByb2xlcyBhbmQgbmFtZXMKICAgICAgICB0aGlzLmdldFJvbGVzKCk7CiAgICAgICAgdGhpcy5nZXRFbnRpdHlOYW1lcygpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlUm9sZXM6IGZ1bmN0aW9uIHVwZGF0ZVJvbGVzKHJvbGVzKSB7CiAgICAgIHRoaXMuY2xhaW1GaWx0ZXJzLnJvbGVzID0gW107CgogICAgICBpZiAocm9sZXMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuc2V0Q2xhaW1GaWx0ZXJzKHJvbGVzLCAncXVlcnlSb2xlcycsICdyb2xlcycpOwoKICAgICAgICB2YXIgZW50aXR5SWRzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQodGhpcy5jbGFpbUZpbHRlcnMuZW50aXR5SWRzLmZsYXRNYXAoZnVuY3Rpb24gKGVudGl0eSkgewogICAgICAgICAgcmV0dXJuIGVudGl0eS5pZHM7CiAgICAgICAgfSkpKTsKCiAgICAgICAgdmFyIHJvbGVJZHMgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh0aGlzLmNsYWltRmlsdGVycy5yb2xlcy5mbGF0TWFwKGZ1bmN0aW9uIChyb2xlKSB7CiAgICAgICAgICByZXR1cm4gcm9sZS5pZHM7CiAgICAgICAgfSkpKTsKCiAgICAgICAgdmFyIGV2ZW50VHlwZUlkcyA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KHRoaXMuY2xhaW1GaWx0ZXJzLmV2ZW50VHlwZXMuZmxhdE1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuaWRzOwogICAgICAgIH0pKSk7IC8vdXBkYXRlIGV2ZW50IHR5cGVzIGFuZCBuYW1lcyBmb3IgdGhlIGNsYWltRmlsdGVyIGlmIHRoZXkgZG9uJ3QgaGF2ZSBzZWxlY3RlZCB2YWx1ZXMgYWxyZWFkeQoKCiAgICAgICAgaWYgKHRoaXMuY2xhaW1GaWx0ZXJzLmV2ZW50VHlwZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLmdldEV2ZW50VHlwZXMocm9sZUlkcywgZW50aXR5SWRzKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmNsYWltRmlsdGVycy5lbnRpdHlJZHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLmdldEVudGl0eU5hbWVzKGV2ZW50VHlwZUlkcywgcm9sZUlkcyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vbm8gdHlwZSBmaWx0ZXJzIHN1Ym1pdHRlZCwgcmVzZXQgZXZlbnQgdHlwZXMgYW5kIG5hbWVzCiAgICAgICAgdGhpcy5nZXRFdmVudFR5cGVzKCk7CiAgICAgICAgdGhpcy5nZXRFbnRpdHlOYW1lcygpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlRW50aXR5TmFtZXM6IGZ1bmN0aW9uIHVwZGF0ZUVudGl0eU5hbWVzKG5hbWVzKSB7CiAgICAgIHRoaXMuY2xhaW1GaWx0ZXJzLmVudGl0eUlkcyA9IFtdOwoKICAgICAgaWYgKG5hbWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAvL1doZW4gZXZlbnRzIGNoYW5nZSwgY2xlYXIgZmlsdGVycyBhbmQgYWRkIG5ldyBvbmVzCiAgICAgICAgdGhpcy5zZXRDbGFpbUZpbHRlcnMobmFtZXMsICdxdWVyeU5hbWVkRW50aXRpZXMnLCAnZW50aXR5SWRzJyk7CgogICAgICAgIHZhciBlbnRpdHlJZHMgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh0aGlzLmNsYWltRmlsdGVycy5lbnRpdHlJZHMuZmxhdE1hcChmdW5jdGlvbiAoZW50aXR5KSB7CiAgICAgICAgICByZXR1cm4gZW50aXR5LmlkczsKICAgICAgICB9KSkpOwoKICAgICAgICB2YXIgcm9sZUlkcyA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KHRoaXMuY2xhaW1GaWx0ZXJzLnJvbGVzLmZsYXRNYXAoZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgICAgIHJldHVybiByb2xlLmlkczsKICAgICAgICB9KSkpOwoKICAgICAgICB2YXIgZXZlbnRUeXBlSWRzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQodGhpcy5jbGFpbUZpbHRlcnMuZXZlbnRUeXBlcy5mbGF0TWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5pZHM7CiAgICAgICAgfSkpKTsgLy91cGRhdGUgZXZlbnQgdHlwZXMgYW5kIHJvbGVzIGZvciB0aGUgY2xhaW1GaWx0ZXIgaWYgdGhleSBkb24ndCBoYXZlIHNlbGVjdGVkIHZhbHVlcyBhbHJlYWR5CgoKICAgICAgICBpZiAodGhpcy5jbGFpbUZpbHRlcnMuZXZlbnRUeXBlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHRoaXMuZ2V0RXZlbnRUeXBlcyhyb2xlSWRzLCBlbnRpdHlJZHMpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuY2xhaW1GaWx0ZXJzLnJvbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgdGhpcy5nZXRSb2xlcyhldmVudFR5cGVJZHMsIGVudGl0eUlkcyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vbm8gdHlwZSBmaWx0ZXJzIHN1Ym1pdHRlZCwgcmVzZXQgZXZlbnQgdHlwZXMgYW5kIHJvbGUKICAgICAgICB0aGlzLmdldEV2ZW50VHlwZXMoKTsKICAgICAgICB0aGlzLmdldFJvbGVzKCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRFdmVudFR5cGVzOiBmdW5jdGlvbiBnZXRFdmVudFR5cGVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciByb2xlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHZhciBpZHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogICAgICB2YXIgbm9GaWx0ZXJzID0gcm9sZXMubGVuZ3RoID09PSAwICYmIGlkcy5sZW5ndGggPT09IDA7IC8vTm8gbmVlZCB0byByZS1ydW4gQVBJIGZvciB0aGUgb3JpZ2luYWwgcXVlcnkgdmFsdWVzCgogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5hbGxRdWVyeVZhbHVlc1tDTEFJTUZJTFRFUlMuZXZlbnRdKS5sZW5ndGggPiAwICYmIG5vRmlsdGVycykgewogICAgICAgIHRoaXMucXVlcnlFdmVudFR5cGVzID0gdGhpcy5hbGxRdWVyeVZhbHVlc1tDTEFJTUZJTFRFUlMuZXZlbnRdOwogICAgICB9IGVsc2UgewogICAgICAgIEFQSS5nZXRBbGxTaW5FdmVudFR5cGVzKHJvbGVzLCBpZHMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIC8vZXZlbnQgdHlwZSBrZXlzIGFyZSB0aGUgY2xlYW4gZXZlbnQgdHlwZXMgd2l0aCBVUkkgcmVtb3ZlZAogICAgICAgICAgICB2YXIgdHlwZXMgPSB7fTsKCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzcG9uc2UuZGF0YSksCiAgICAgICAgICAgICAgICBfc3RlcDI7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZFR5cGUgPSBnZXRUeXBlKHR5cGUpOwogICAgICAgICAgICAgICAgdmFyIHR5cGVJZE9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgdHlwZTogdHJhbnNmb3JtZWRUeXBlLAogICAgICAgICAgICAgICAgICBpZHM6IHR5cGUKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKHR5cGVzLmhhc093blByb3BlcnR5KHRyYW5zZm9ybWVkVHlwZSkpIHsKICAgICAgICAgICAgICAgICAgdHlwZXNbdHJhbnNmb3JtZWRUeXBlXSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodHlwZXNbdHJhbnNmb3JtZWRUeXBlXSksIFt0eXBlSWRPYmplY3RdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHR5cGVzW3RyYW5zZm9ybWVkVHlwZV0gPSBbdHlwZUlkT2JqZWN0XTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vaWYgdGhlcmUgYXJlIG5vIGZpbHRlcnMgYW5kIHRoZSBvcmlnaW5hbCBxdWVyeSB2YWx1ZXMgaGF2ZW4ndCBiZWVuIHNldCwgc2V0IGFsbFF1ZXJ5VmFsdWVzCgogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG5vRmlsdGVycykgewogICAgICAgICAgICAgIF90aGlzMi5hbGxRdWVyeVZhbHVlc1tDTEFJTUZJTFRFUlMuZXZlbnRdID0gdHlwZXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMi5xdWVyeUV2ZW50VHlwZXMgPSB0eXBlczsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi5xdWVyeUV2ZW50VHlwZXMgPSB7fTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSb2xlczogZnVuY3Rpb24gZ2V0Um9sZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGV2ZW50VHlwZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB2YXIgaWRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKICAgICAgdmFyIG5vRmlsdGVycyA9IGV2ZW50VHlwZXMubGVuZ3RoID09PSAwICYmIGlkcy5sZW5ndGggPT09IDA7IC8vTm8gbmVlZCB0byByZS1ydW4gQVBJIGZvciB0aGUgb3JpZ2luYWwgcXVlcnkgdmFsdWVzCgogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5hbGxRdWVyeVZhbHVlc1tDTEFJTUZJTFRFUlMucm9sZV0pLmxlbmd0aCA+IDAgJiYgbm9GaWx0ZXJzKSB7CiAgICAgICAgdGhpcy5xdWVyeVJvbGVzID0gdGhpcy5hbGxRdWVyeVZhbHVlc1tDTEFJTUZJTFRFUlMucm9sZV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgQVBJLmdldEFsbFNpblJvbGVzKGV2ZW50VHlwZXMsIGlkcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgLy9yb2xlIFVSSXMgd2lsbCBiZSBncm91cGVkIGJ5IHRoZSB0cnVuY2F0ZWQgcm9sZSBuYW1lCiAgICAgICAgICAgIHZhciByb2xlcyA9IHt9OwoKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXNwb25zZS5kYXRhKSwKICAgICAgICAgICAgICAgIF9zdGVwMzsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBkID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICAgICAgdmFyIHRydW5jUm9sZSA9IGdldFJvbGUoZCk7CiAgICAgICAgICAgICAgICB2YXIgcm9sZUlkT2JqZWN0ID0gewogICAgICAgICAgICAgICAgICByb2xlOiB0cnVuY1JvbGUsCiAgICAgICAgICAgICAgICAgIGlkczogZAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAocm9sZXMuaGFzT3duUHJvcGVydHkodHJ1bmNSb2xlKSkgewogICAgICAgICAgICAgICAgICByb2xlc1t0cnVuY1JvbGVdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyb2xlc1t0cnVuY1JvbGVdKSwgW3JvbGVJZE9iamVjdF0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcm9sZXNbdHJ1bmNSb2xlXSA9IFtyb2xlSWRPYmplY3RdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gLy9pZiB0aGVyZSBhcmUgbm8gZmlsdGVycyBhbmQgdGhlIG9yaWdpbmFsIHF1ZXJ5IHZhbHVlcyBoYXZlbid0IGJlZW4gc2V0LCBzZXQgYWxsUXVlcnlWYWx1ZXMKCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobm9GaWx0ZXJzKSB7CiAgICAgICAgICAgICAgX3RoaXMzLmFsbFF1ZXJ5VmFsdWVzW0NMQUlNRklMVEVSUy5yb2xlXSA9IHJvbGVzOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczMucXVlcnlSb2xlcyA9IHJvbGVzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLnF1ZXJ5Um9sZXMgPSB7fTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRFbnRpdHlOYW1lczogZnVuY3Rpb24gZ2V0RW50aXR5TmFtZXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGV2ZW50VHlwZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB2YXIgcm9sZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogICAgICB2YXIgbm9GaWx0ZXJzID0gcm9sZXMubGVuZ3RoID09PSAwICYmIGV2ZW50VHlwZXMubGVuZ3RoID09PSAwOyAvL05vIG5lZWQgdG8gcmUtcnVuIEFQSSBmb3IgdGhlIG9yaWdpbmFsIHF1ZXJ5IHZhbHVlcwoKICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuYWxsUXVlcnlWYWx1ZXNbQ0xBSU1GSUxURVJTLmVudGl0eV0pLmxlbmd0aCA+IDAgJiYgbm9GaWx0ZXJzKSB7CiAgICAgICAgdGhpcy5xdWVyeU5hbWVkRW50aXRpZXMgPSB0aGlzLmFsbFF1ZXJ5VmFsdWVzW0NMQUlNRklMVEVSUy5lbnRpdHldOwogICAgICB9IGVsc2UgewogICAgICAgIC8vZXZlbnQgdHlwZXMgYW5kIHJvbGVzIG5lZWQgdG8gYmUgY2xlYW5lZCB1cCBmb3IgdGhlIEVsYXN0aWNTZWFyY2ggQVBJCiAgICAgICAgdmFyIGVzRXZlbnRUeXBlcyA9IGV2ZW50VHlwZXMubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gZ2V0VHlwZSh0KTsKICAgICAgICB9KTsKICAgICAgICB2YXIgZXNSb2xlcyA9IHJvbGVzLm1hcChmdW5jdGlvbiAocikgewogICAgICAgICAgcmV0dXJuIGdldFJvbGUocik7CiAgICAgICAgfSk7CiAgICAgICAgQVBJLmdldEFsbFNpbk5hbWVzKGVzRXZlbnRUeXBlcywgZXNSb2xlcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgLy9uYW1lIGtleXMgYXJlIHRoZSBhY3R1YWwgbmFtZSB3aGlsZSB0aGUKICAgICAgICAgICAgdmFyIG5hbWVzID0ge307CgogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlc3BvbnNlLmRhdGEpLAogICAgICAgICAgICAgICAgX3N0ZXA0OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICAgICAgICAvL2NsZWFuIG5hbWUgaW4gb3JkZXIgdG8gc29ydCBmb3IgbXVsdGktc2VsZWN0IGF1dG9jb21wbGV0ZQogICAgICAgICAgICAgICAgdmFyIGNhbm9uaWNhbE5hbWUgPSBjbGVhbk5hbWUobmFtZS5pZCk7CiAgICAgICAgICAgICAgICB2YXIgbmFtZUlkT2JqZWN0ID0gewogICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLmlkLAogICAgICAgICAgICAgICAgICBpZHM6IG5hbWUuZW50aXRpZXMKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKG5hbWVzLmhhc093blByb3BlcnR5KGNhbm9uaWNhbE5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIC8vTm8gbG9uZ2VyIHVzaW5nIGVudGl0eUlkcywgbmFtZXNbY2Fub25pY2FsTmFtZV0gPSBbLi4ubmV3IFNldChbLi4ubmFtZXNbY2Fub25pY2FsTmFtZV0sIC4uLm5hbWUuZW50aXRpZXNdKV07CiAgICAgICAgICAgICAgICAgIG5hbWVzW2Nhbm9uaWNhbE5hbWVdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShuYW1lc1tjYW5vbmljYWxOYW1lXSksIFtuYW1lSWRPYmplY3RdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8vTm8gbG9uZ2VyIHVzaW5nIGVudGl0eUlkcywgLSBuYW1lc1tjYW5vbmljYWxOYW1lXSA9IG5hbWUuZW50aXRpZXM7CiAgICAgICAgICAgICAgICAgIG5hbWVzW2Nhbm9uaWNhbE5hbWVdID0gW25hbWVJZE9iamVjdF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSAvL2lmIHRoZXJlIGFyZSBubyBmaWx0ZXJzIGFuZCB0aGUgb3JpZ2luYWwgcXVlcnkgdmFsdWVzIGhhdmVuJ3QgYmVlbiBzZXQsIHNldCBhbGxRdWVyeVZhbHVlcwoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChub0ZpbHRlcnMpIHsKICAgICAgICAgICAgICBfdGhpczQuYWxsUXVlcnlWYWx1ZXNbQ0xBSU1GSUxURVJTLmVudGl0eV0gPSBuYW1lczsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXM0LnF1ZXJ5TmFtZWRFbnRpdGllcyA9IG5hbWVzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM0LnF1ZXJ5TmFtZWRFbnRpdGllcyA9IHt9OwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVNlYXJjaEZvcm06IGZ1bmN0aW9uIHVwZGF0ZVNlYXJjaEZvcm0odmlld1R5cGUpIHsKICAgICAgaWYgKHZpZXdUeXBlID09PSB0aGlzLnZpZXdzLnJlc2V0UXVlcnkudHlwZSkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy4kZGF0YSwgaW5pdGlhbFN0YXRlKCkpOwogICAgICAgIHRoaXMucmVzZXRRdWVyeUZvcm0oKTsKICAgICAgfSBlbHNlIGlmICh2aWV3VHlwZSA9PT0gdGhpcy52aWV3cy5jbGFpbVJlc3VsdHMudHlwZSkgewogICAgICAgIHRoaXMudmlld3Nbdmlld1R5cGVdLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5mb3JtYXR0ZWRGaWx0ZXJzID0gdGhpcy5mb3JtYXRDbGFpbUZpbHRlcnMoKTsKICAgICAgICB0aGlzLnNjcm9sbFRvUmVzdWx0cygpOwogICAgICB9CiAgICB9LAogICAgcmVzZXRRdWVyeUZvcm06IGZ1bmN0aW9uIHJlc2V0UXVlcnlGb3JtKCkgewogICAgICB0aGlzLmNsYWltRmlsdGVycyA9IG5ldyBGaWx0ZXIoKTsKICAgICAgdGhpcy5hbGxRdWVyeVZhbHVlcyA9IG5ldyBRdWVyeVZhbHVlcygpOyAvL2ZldGNoIHRoZSBxdWVyeSB2YWx1ZXMgZm9yIGFsbCBTSU5zL0luY2lkZW50cwoKICAgICAgdGhpcy5nZXRFdmVudFR5cGVzKCk7CiAgICAgIHRoaXMuZ2V0Um9sZXMoKTsKICAgICAgdGhpcy5nZXRFbnRpdHlOYW1lcygpOwogICAgfSwKICAgIGZvcm1hdENsYWltRmlsdGVyczogZnVuY3Rpb24gZm9ybWF0Q2xhaW1GaWx0ZXJzKCkgewogICAgICB2YXIgZm9ybWF0dGVkRmlsdGVycyA9IFtdOyAvL2V2ZW50IHR5cGUgZmlsdGVycyB3ZXJlIHN1Ym1pdHRlZAoKICAgICAgaWYgKHRoaXMuY2xhaW1GaWx0ZXJzLmV2ZW50VHlwZXMubGVuZ3RoID4gMCkgewogICAgICAgIC8vZm9yIGVhY2ggZXZlbnQgdHlwZSBhZGQgYSBmaWx0ZXIgb2JqZWN0LiBGb3IgZWFjaCByb2xlLCBhZGQgYW4gYXJndW1lbnRzIGFycmF5IHRvIHRoZSBldmVudCBmaWx0ZXIgb2JqZWN0LiBJZiBlbnRpdHkgaWRzIGV4aXN0LCBhZGQgdGhlbSB0byB0aGUgYXJndW1lbnQgb2JqZWN0IGluIHRoZSBhcnJheQogICAgICAgIHZhciBldmVudFR5cGVzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQodGhpcy5jbGFpbUZpbHRlcnMuZXZlbnRUeXBlcy5mbGF0TWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS50eXBlOwogICAgICAgIH0pKSk7CgogICAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZXZlbnRUeXBlcyksCiAgICAgICAgICAgIF9zdGVwNTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSBfc3RlcDUudmFsdWU7CgogICAgICAgICAgICBpZiAodGhpcy5jbGFpbUZpbHRlcnMucm9sZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIC8vQ3JlYXRlIGFyZ3VtZW50cyBmb3IgZWFjaCByb2xlIGFuZCBpZCBwYWlyCiAgICAgICAgICAgICAgdmFyIHJvbGVzID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQodGhpcy5jbGFpbUZpbHRlcnMucm9sZXMuZmxhdE1hcChmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgcmV0dXJuIHIucm9sZTsKICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJvbGVzKSwKICAgICAgICAgICAgICAgICAgX3N0ZXA2OwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgdmFyIHJvbGUgPSBfc3RlcDYudmFsdWU7CgogICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGFpbUZpbHRlcnMuZW50aXR5SWRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAvL2NoYW5naW5nIHRvIG5hbWVzIHNpbmNlIEVTIHF1ZXJ5IGFjY2VwdHMgbmFtZXMKICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5TmFtZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh0aGlzLmNsYWltRmlsdGVycy5lbnRpdHlJZHMuZmxhdE1hcChmdW5jdGlvbiAoZW50aXR5KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5Lm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfSkpKTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihlbnRpdHlOYW1lcyksCiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGVwNzsKCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNy5zKCk7ICEoX3N0ZXA3ID0gX2l0ZXJhdG9yNy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZmlsdGVyT2JqZWN0OwoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBfc3RlcDcudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJPYmplY3QgPSAoX2ZpbHRlck9iamVjdCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2ZpbHRlck9iamVjdCwgJ2V2ZW50VHlwZScsIGV2ZW50VHlwZSksIF9kZWZpbmVQcm9wZXJ0eShfZmlsdGVyT2JqZWN0LCAnYXJndW1lbnRzJywgW10pLCBfZmlsdGVyT2JqZWN0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmd1bWVudE9iamVjdCA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgJ3JvbGUnLCByb2xlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50T2JqZWN0WydpZHMnXSA9IFtuYW1lXTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT2JqZWN0Wydhcmd1bWVudHMnXS5wdXNoKGFyZ3VtZW50T2JqZWN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkRmlsdGVycy5wdXNoKGZpbHRlck9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNy5mKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBfZmlsdGVyT2JqZWN0MzsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9maWx0ZXJPYmplY3QyID0gKF9maWx0ZXJPYmplY3QzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfZmlsdGVyT2JqZWN0MywgJ2V2ZW50VHlwZScsIGV2ZW50VHlwZSksIF9kZWZpbmVQcm9wZXJ0eShfZmlsdGVyT2JqZWN0MywgJ2FyZ3VtZW50cycsIFtdKSwgX2ZpbHRlck9iamVjdDMpOwoKICAgICAgICAgICAgICAgICAgICBfZmlsdGVyT2JqZWN0MlsnYXJndW1lbnRzJ10ucHVzaChfZGVmaW5lUHJvcGVydHkoe30sICdyb2xlJywgcm9sZSkpOwoKICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRGaWx0ZXJzLnB1c2goX2ZpbHRlck9iamVjdDIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2xhaW1GaWx0ZXJzLmVudGl0eUlkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgLy9jaGFuZ2luZyB0byBuYW1lcyBzaW5jZSBFUyBxdWVyeSBhY2NlcHRzIG5hbWVzCiAgICAgICAgICAgICAgdmFyIF9lbnRpdHlOYW1lcyA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KHRoaXMuY2xhaW1GaWx0ZXJzLmVudGl0eUlkcy5mbGF0TWFwKGZ1bmN0aW9uIChlbnRpdHkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkubmFtZTsKICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF9lbnRpdHlOYW1lcyksCiAgICAgICAgICAgICAgICAgIF9zdGVwODsKCiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yOC5zKCk7ICEoX3N0ZXA4ID0gX2l0ZXJhdG9yOC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfZmlsdGVyT2JqZWN0NTsKCiAgICAgICAgICAgICAgICAgIHZhciBfbmFtZSA9IF9zdGVwOC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgIHZhciBfZmlsdGVyT2JqZWN0NCA9IChfZmlsdGVyT2JqZWN0NSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2ZpbHRlck9iamVjdDUsICdldmVudFR5cGUnLCBldmVudFR5cGUpLCBfZGVmaW5lUHJvcGVydHkoX2ZpbHRlck9iamVjdDUsICdhcmd1bWVudHMnLCBbXSksIF9maWx0ZXJPYmplY3Q1KTsKCiAgICAgICAgICAgICAgICAgIHZhciBfYXJndW1lbnRPYmplY3QyID0gX2RlZmluZVByb3BlcnR5KHt9LCAnaWRzJywgW19uYW1lXSk7CgogICAgICAgICAgICAgICAgICBfZmlsdGVyT2JqZWN0NFsnYXJndW1lbnRzJ10ucHVzaChfYXJndW1lbnRPYmplY3QyKTsKCiAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEZpbHRlcnMucHVzaChfZmlsdGVyT2JqZWN0NCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3I4LmUoZXJyKTsKICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yOC5mKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vb25seSBhZGQgZXZlbnQgdHlwZQogICAgICAgICAgICAgIHZhciByZWZvcm1hdCA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgJ2V2ZW50VHlwZScsIGV2ZW50VHlwZSk7CgogICAgICAgICAgICAgIGZvcm1hdHRlZEZpbHRlcnMucHVzaChyZWZvcm1hdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICB9CiAgICAgIH0gLy9yb2xlIGZpbHRlcnMgd2VyZSBzdWJtaXR0ZWQgd2l0aG91dCBldmVudCB0eXBlcwogICAgICBlbHNlIGlmICh0aGlzLmNsYWltRmlsdGVycy5yb2xlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy9mb3IgZWFjaCByb2xlIGFuZCBpZCBwYWlyLCBhZGQgYW4gYXJndW1lbnQgdG8gdGhlIGFyZ3VtZW50cyBhcnJheQogICAgICAgIHZhciBfcm9sZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh0aGlzLmNsYWltRmlsdGVycy5yb2xlcy5mbGF0TWFwKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gci5yb2xlOwogICAgICAgIH0pKSk7CgogICAgICAgIHZhciBfaXRlcmF0b3I5ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3JvbGVzKSwKICAgICAgICAgICAgX3N0ZXA5OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3I5LnMoKTsgIShfc3RlcDkgPSBfaXRlcmF0b3I5Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIF9yb2xlID0gX3N0ZXA5LnZhbHVlOwoKICAgICAgICAgICAgaWYgKHRoaXMuY2xhaW1GaWx0ZXJzLmVudGl0eUlkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgLy9jaGFuZ2luZyB0byBuYW1lcyBzaW5jZSBFUyBxdWVyeSBhY2NlcHRzIG5hbWVzCiAgICAgICAgICAgICAgdmFyIF9lbnRpdHlOYW1lczIgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh0aGlzLmNsYWltRmlsdGVycy5lbnRpdHlJZHMuZmxhdE1hcChmdW5jdGlvbiAoZW50aXR5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5Lm5hbWU7CiAgICAgICAgICAgICAgfSkpKTsKCiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjEwID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX2VudGl0eU5hbWVzMiksCiAgICAgICAgICAgICAgICAgIF9zdGVwMTA7CgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjEwLnMoKTsgIShfc3RlcDEwID0gX2l0ZXJhdG9yMTAubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICB2YXIgX25hbWUyID0gX3N0ZXAxMC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgIHZhciBfZmlsdGVyT2JqZWN0NiA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgJ2FyZ3VtZW50cycsIFtdKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfYXJndW1lbnRPYmplY3Q0ID0gX2RlZmluZVByb3BlcnR5KHt9LCAncm9sZScsIF9yb2xlKTsKCiAgICAgICAgICAgICAgICAgIF9hcmd1bWVudE9iamVjdDRbJ2lkcyddID0gW19uYW1lMl07CgogICAgICAgICAgICAgICAgICBfZmlsdGVyT2JqZWN0NlsnYXJndW1lbnRzJ10ucHVzaChfYXJndW1lbnRPYmplY3Q0KTsKCiAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEZpbHRlcnMucHVzaChfZmlsdGVyT2JqZWN0Nik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IxMC5lKGVycik7CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjEwLmYoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIF9maWx0ZXJPYmplY3Q4ID0gX2RlZmluZVByb3BlcnR5KHt9LCAnYXJndW1lbnRzJywgW10pOwoKICAgICAgICAgICAgICBfZmlsdGVyT2JqZWN0OFsnYXJndW1lbnRzJ10ucHVzaChfZGVmaW5lUHJvcGVydHkoe30sICdyb2xlJywgX3JvbGUpKTsKCiAgICAgICAgICAgICAgZm9ybWF0dGVkRmlsdGVycy5wdXNoKF9maWx0ZXJPYmplY3Q4KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yOS5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjkuZigpOwogICAgICAgIH0KICAgICAgfSAvL25hbWVkIGVudGl0eSBmaWx0ZXJzIHdlcmUgc3VibWl0dGVkIHdpdGhvdXQgZXZlbnQgdHlwZXMgb3Igcm9sZXMKICAgICAgZWxzZSBpZiAodGhpcy5jbGFpbUZpbHRlcnMuZW50aXR5SWRzLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgX2VudGl0eU5hbWVzMyA9IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KHRoaXMuY2xhaW1GaWx0ZXJzLmVudGl0eUlkcy5mbGF0TWFwKGZ1bmN0aW9uIChlbnRpdHkpIHsKICAgICAgICAgIHJldHVybiBlbnRpdHkubmFtZTsKICAgICAgICB9KSkpOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yMTEgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfZW50aXR5TmFtZXMzKSwKICAgICAgICAgICAgX3N0ZXAxMTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTEucygpOyAhKF9zdGVwMTEgPSBfaXRlcmF0b3IxMS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBfbmFtZTMgPSBfc3RlcDExLnZhbHVlOwoKICAgICAgICAgICAgdmFyIF9maWx0ZXJPYmplY3QxMCA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgJ2FyZ3VtZW50cycsIFtdKTsKCiAgICAgICAgICAgIHZhciBfYXJndW1lbnRPYmplY3Q2ID0gX2RlZmluZVByb3BlcnR5KHt9LCAnaWRzJywgW19uYW1lM10pOwoKICAgICAgICAgICAgX2ZpbHRlck9iamVjdDEwWydhcmd1bWVudHMnXS5wdXNoKF9hcmd1bWVudE9iamVjdDYpOwoKICAgICAgICAgICAgZm9ybWF0dGVkRmlsdGVycy5wdXNoKF9maWx0ZXJPYmplY3QxMCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IxMS5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjExLmYoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS53YXJuKCdubyBmaWx0ZXJzIHN1Ym1pdHRlZCcpOwogICAgICB9CgogICAgICByZXR1cm4gZm9ybWF0dGVkRmlsdGVyczsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["IncidentSearch.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n  - Copyright 2021 Next Century Corporation/CACI\n  -\n  - Licensed under the Apache License, Version 2.0 (the \"License\");\n  - you may not use this file except in compliance with the License.\n  - You may obtain a copy of the License at\n  -\n  -       http://www.apache.org/licenses/LICENSE-2.0\n  -\n  - Unless required by applicable law or agreed to in writing, software\n  - distributed under the License is distributed on an \"AS IS\" BASIS,\n  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  - See the License for the specific language governing permissions and\n  - limitations under the License.\n  -\n  - Created by s.nordt on 6/23/21\n-->\n\n<template>\n    <div class=\"page-content\">\n        <div class=\"kb-details\">\n            <div class=\"kb-description-wrapper\">\n                <div class=\"element-list-header\">\n                    <div class=\"primary-page-header-left\">Incident Search</div>\n                    <div class=\"page-header-right\">\n                        <button id=\"compare_button\" class=\"dark-app-button\" @click=\"linkToIncidentDetails()\">\n                            <v-icon class=\"button-icon\">mdi-compare</v-icon>\n                            Incident Details\n                        </button>\n                        <button id=\"doc_button\" class=\"dark-app-button\" @click=\"linkToEvalDocSearch()\">\n                            <v-icon class=\"button-icon\">mdi-file-document-box-search-outline</v-icon>\n                            Document Search\n                        </button>\n                    </div>\n                </div>\n                <span class=\"element-list-header\">Begin query by adding a named entity, role, and/or an event type</span>\n                <div class=\"query-div\">\n                    <div class=\"query-field-column-wrapper\">\n                        <MultiSelectAutoComplete\n                             :items=\"namedEntities\"\n                             :required=\"false\"\n                             :placeholder=\"'Named Entities'\"\n                             :index=2\n                             :message=\"'No named entities available'\"\n                             @autoCompleteSubmission=\"updateEntityNames($event)\"\n                             @autoCompleteClear=\"updateEntityNames($event)\"\n                        ></MultiSelectAutoComplete>\n                        <MultiSelectAutoComplete\n                            :items=\"roles\"\n                            :required=\"false\"\n                            :placeholder=\"'Roles'\"\n                            :index=1\n                            :message=\"'No roles available'\"\n                            @autoCompleteSubmission=\"updateRoles($event)\"\n                            @autoCompleteClear=\"updateRoles($event)\"\n                        ></MultiSelectAutoComplete>\n                        <MultiSelectAutoComplete\n                             :items=\"eventTypes\"\n                             :required=\"false\"\n                             :placeholder=\"'Event Types'\"\n                             :index=0\n                             :message=\"'No event types available'\"\n                             @autoCompleteSubmission=\"updateEventTypes($event)\"\n                             @autoCompleteClear=\"updateEventTypes($event)\"\n                        ></MultiSelectAutoComplete>\n                    </div>\n                    <div class=\"footer-button-wrapper\">\n                        <div>\n                            <button type=\"submit\" class=\"dark-gray-submit-button\" @click.prevent=\"updateSearchForm(views.resetQuery.type)\">\n                                Reset\n                            </button>\n                            <button type=\"submit\" ref=\"searchButton\" class=\"dark-teal-submit-button\" @click.prevent=\"updateSearchForm(views.claimResults.type)\">\n                                Search\n                            </button>\n                        </div>\n                        <hr class=\"hr-fade\">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <Claims :ref=\"resultsAnchor\" :searchType=\"SEARCHTYPES.multi\" :claimSearchFilters=\"formattedClaims\" @completedSearch=completedSearch($event) ></Claims>\n    </div>\n</template>\n\n<script>\n    import MultiSelectAutoComplete from '@/components/MultiSelectAutoComplete';\n    import Claims from '@/views/analyze/Claims';\n    import {mapMutations} from 'vuex';\n    import {\n        SEARCHTYPES,\n        INCIDENTMAPPING,\n        getType,\n        getRole,\n        cleanName,\n        sortCaseInsensitive\n    } from '../../utils';\n    import API from '../../api';\n\n    //const currentRequests = new Map();\n    const CLAIMFILTERS = {\n        event: 'eventFilter',\n        entity: 'entityFilter',\n        role: 'roleFilter'\n    };\n\n    class View {\n        constructor (type, disabled) {\n            this.type = type;\n            this.disabled = disabled;\n        }\n    }\n\n     class Filter {\n         constructor() {\n             this.entityIds = [];\n             this.eventTypes = [];\n             this.roles = [];\n         }\n     }\n\n    class QueryValues {\n        constructor() {\n            this[CLAIMFILTERS.entity] = {};\n            this[CLAIMFILTERS.event] = {};\n            this[CLAIMFILTERS.role] = {};\n        }\n    }\n\n    function initialState() {\n        return {\n            claimFilters: {},\n            formattedFilters: [],\n            queryEventTypes : {},\n            queryNamedEntities: {},\n            queryRoles: {},\n            allQueryValues: {},\n            resultsAnchor: 'claim_results',\n            views: {\n                resetQuery: new View('resetQuery', false),\n                claimResults: new View('claimResults', true)\n            }\n        }\n    }\n    export default {\n        name: 'IncidentSearch',\n        components: {Claims, MultiSelectAutoComplete},\n        data: () => (initialState()),\n        created() {\n            this.CLAIMFILTERS = CLAIMFILTERS;\n            this.SEARCHTYPES = SEARCHTYPES;\n            this.INCIDENTMAPPING = INCIDENTMAPPING;\n        },\n        mounted() {\n            window.scroll({\n                top: 0,\n                behavior: 'smooth'\n            });\n            this.resetQueryForm();\n        },\n        computed: {\n           eventTypes() {\n               return this.getPrettyLabels(this.queryEventTypes);\n           },\n            namedEntities() {\n               return this.getPrettyLabels(this.queryNamedEntities);\n            },\n            roles() {\n                return this.getPrettyLabels(this.queryRoles);\n            },\n            formattedClaims() {\n               return this.formattedFilters;\n            },\n            sinIds() {\n                return INCIDENTMAPPING.map(v => v.id);\n            }\n        },\n        methods: {\n            ...mapMutations(['updateSinSelection']),\n            linkToEvalDocSearch () {\n                window.open('https://blackbox.verdi.nextcentury.com/', '_blank');\n            },\n            linkToIncidentDetails () {\n                this.$router.push('/eval/incident_detail');\n            },\n            completedSearch(value) {\n                this.$refs.searchButton.disabled = !value\n            },\n            getPrettyLabels(items) {\n                //remove duplicates and sort\n               return  Object.keys(items) ? sortCaseInsensitive([...Object.keys(items)]) : items;\n            },\n            scrollToResults() {\n                this.$nextTick(() => {\n                    const el = this.$refs[this.resultsAnchor].$el;\n                    if(el) {\n                        el.scrollIntoView({ top: 'position', behavior: 'smooth' })\n                    }\n                });\n            },\n            setClaimFilters(keys, querySet, filter) {\n                let filters = [];\n                for (const key of keys) {\n                    const URIs = this[querySet][key] ? this[querySet][key] : [];\n                    filters = [...filters, ...URIs];\n                }\n                this.claimFilters[filter] = [...new Set(filters)];\n            },\n            updateEventTypes(types) {\n                this.claimFilters.eventTypes = [];\n                if(types.length > 0) {\n                    this.setClaimFilters(types, 'queryEventTypes', 'eventTypes');\n                    const entityIds = [...new Set(this.claimFilters.entityIds.flatMap(entity => entity.ids))];\n                    const roleIds = [...new Set(this.claimFilters.roles.flatMap(role => role.ids))];\n                    const eventTypeIds = [...new Set(this.claimFilters.eventTypes.flatMap(e => e.ids))];\n                    //update roles and names for the claimFilter if they don't have selected values already\n                    if(this.claimFilters.roles.length === 0) {\n                        this.getRoles(eventTypeIds, entityIds);\n                    }\n                    if(this.claimFilters.entityIds.length === 0) {\n                        this.getEntityNames(eventTypeIds, roleIds);\n                    }\n                }\n                else {\n                    //no type filters submitted, reset roles and names\n                    this.getRoles();\n                    this.getEntityNames();\n                }\n            },\n            updateRoles(roles) {\n                this.claimFilters.roles = [];\n                if(roles.length > 0) {\n                    this.setClaimFilters(roles, 'queryRoles', 'roles');\n                    const entityIds = [...new Set(this.claimFilters.entityIds.flatMap(entity => entity.ids))];\n                    const roleIds = [...new Set(this.claimFilters.roles.flatMap(role => role.ids))];\n                    const eventTypeIds = [...new Set(this.claimFilters.eventTypes.flatMap(e => e.ids))];\n\n                    //update event types and names for the claimFilter if they don't have selected values already\n                    if(this.claimFilters.eventTypes.length === 0) {\n                        this.getEventTypes(roleIds, entityIds);\n                    }\n                    if(this.claimFilters.entityIds.length === 0) {\n                        this.getEntityNames(eventTypeIds, roleIds);\n                    }\n                }\n                else {\n                    //no type filters submitted, reset event types and names\n                    this.getEventTypes();\n                    this.getEntityNames();\n                }\n            },\n            updateEntityNames(names) {\n                this.claimFilters.entityIds = [];\n                if(names.length > 0) {\n                    //When events change, clear filters and add new ones\n                    this.setClaimFilters(names, 'queryNamedEntities', 'entityIds');\n                    const entityIds = [...new Set(this.claimFilters.entityIds.flatMap(entity => entity.ids))];\n                    const roleIds = [...new Set(this.claimFilters.roles.flatMap(role => role.ids))];\n                    const eventTypeIds = [...new Set(this.claimFilters.eventTypes.flatMap(e => e.ids))];\n\n                    //update event types and roles for the claimFilter if they don't have selected values already\n                    if(this.claimFilters.eventTypes.length === 0) {\n                        this.getEventTypes(roleIds,  entityIds);\n                    }\n                    if(this.claimFilters.roles.length === 0) {\n                        this.getRoles(eventTypeIds, entityIds);\n                    }\n                }\n                else {\n                    //no type filters submitted, reset event types and role\n                    this.getEventTypes();\n                    this.getRoles();\n                }\n            },\n            getEventTypes(roles = [], ids = []) {\n                const noFilters = roles.length === 0 && ids.length === 0;\n                //No need to re-run API for the original query values\n                if(Object.keys(this.allQueryValues[CLAIMFILTERS.event]).length > 0 && noFilters) {\n                    this.queryEventTypes = this.allQueryValues[CLAIMFILTERS.event];\n                }\n                else {\n                    API.getAllSinEventTypes(roles, ids).then(response => {\n                        if (response.data.length > 0) {\n                            //event type keys are the clean event types with URI removed\n                            let types = {};\n                            for (const type of response.data) {\n                                const transformedType = getType(type);\n                                const typeIdObject = {type: transformedType, ids: type};\n                                if (types.hasOwnProperty(transformedType)) {\n                                    types[transformedType] = [...types[transformedType], typeIdObject];\n                                }\n                                else {\n                                    types[transformedType] = [typeIdObject];\n                                }\n                            }\n                            //if there are no filters and the original query values haven't been set, set allQueryValues\n                            if (noFilters) {\n                                this.allQueryValues[CLAIMFILTERS.event] = types;\n                            }\n\n                            this.queryEventTypes = types;\n                        }\n                        else {\n                            this.queryEventTypes = {};\n                        }\n                    }).catch((error) => {\n                        console.warn(error)\n                    });\n                }\n            },\n            getRoles(eventTypes = [], ids = []) {\n                const noFilters = eventTypes.length === 0 && ids.length === 0;\n                //No need to re-run API for the original query values\n                if(Object.keys(this.allQueryValues[CLAIMFILTERS.role]).length > 0 && noFilters) {\n                    this.queryRoles = this.allQueryValues[CLAIMFILTERS.role];\n                }\n                else {\n                    API.getAllSinRoles(eventTypes, ids).then(response => {\n                        if(response.data.length > 0 ) {\n                            //role URIs will be grouped by the truncated role name\n                            let roles = {};\n                            for (const d of response.data) {\n                                const truncRole = getRole(d);\n                                const roleIdObject = {role: truncRole, ids: d};\n                                if(roles.hasOwnProperty(truncRole)) {\n                                    roles[truncRole] = [...roles[truncRole], roleIdObject];\n                                }\n                                else {\n                                    roles[truncRole] = [roleIdObject];\n                                }\n                            }\n                            //if there are no filters and the original query values haven't been set, set allQueryValues\n                            if(noFilters) {\n                                this.allQueryValues[CLAIMFILTERS.role] = roles;\n                            }\n                            this.queryRoles = roles;\n                        }\n                        else {\n                            this.queryRoles = {};\n                        }\n                    }).catch((error) => {\n                        console.warn(error)\n                    });\n                }\n            },\n            getEntityNames(eventTypes = [], roles = []) {\n                const noFilters = roles.length === 0 && eventTypes.length === 0;\n                //No need to re-run API for the original query values\n                if(Object.keys(this.allQueryValues[CLAIMFILTERS.entity]).length > 0 && noFilters) {\n                    this.queryNamedEntities = this.allQueryValues[CLAIMFILTERS.entity];\n                }\n                else {\n                    //event types and roles need to be cleaned up for the ElasticSearch API\n                    const esEventTypes = eventTypes.map(t => getType(t));\n                    const esRoles = roles.map(r => getRole(r));\n                    API.getAllSinNames(esEventTypes, esRoles).then(response => {\n                        if (response.data.length > 0) {\n                            //name keys are the actual name while the\n                            let names = {};\n                            for (const name of response.data) {\n                                //clean name in order to sort for multi-select autocomplete\n                                const canonicalName = cleanName(name.id);\n                                const nameIdObject = {name: name.id, ids: name.entities};\n                                if (names.hasOwnProperty(canonicalName)) {\n                                    //No longer using entityIds, names[canonicalName] = [...new Set([...names[canonicalName], ...name.entities])];\n                                    names[canonicalName] = [...names[canonicalName], nameIdObject];\n                                } else {\n                                    //No longer using entityIds, - names[canonicalName] = name.entities;\n                                    names[canonicalName] = [nameIdObject];\n                                }\n                            }\n\n                            //if there are no filters and the original query values haven't been set, set allQueryValues\n                            if (noFilters) {\n                                this.allQueryValues[CLAIMFILTERS.entity] = names;\n                            }\n\n                            this.queryNamedEntities = names;\n                        }\n                        else {\n                            this.queryNamedEntities = {};\n                        }\n                    }).catch((error) => {\n                        console.warn(error)\n                    });\n                }\n            },\n            updateSearchForm(viewType) {\n                if(viewType === this.views.resetQuery.type) {\n                    Object.assign(this.$data, initialState());\n                    this.resetQueryForm();\n                }\n                else if(viewType === this.views.claimResults.type) {\n                    this.views[viewType].disabled = false;\n                    this.formattedFilters = this.formatClaimFilters();\n                    this.scrollToResults();\n                }\n            },\n            resetQueryForm() {\n                this.claimFilters = new Filter();\n                this.allQueryValues = new QueryValues();\n\n                //fetch the query values for all SINs/Incidents\n                this.getEventTypes();\n                this.getRoles();\n                this.getEntityNames();\n            },\n            formatClaimFilters() {\n                let formattedFilters = [];\n                //event type filters were submitted\n                if(this.claimFilters.eventTypes.length > 0) {\n                    //for each event type add a filter object. For each role, add an arguments array to the event filter object. If entity ids exist, add them to the argument object in the array\n                    const eventTypes = [...new Set(this.claimFilters.eventTypes.flatMap(e => e.type))];\n                    for (const eventType of eventTypes) {\n                        if (this.claimFilters.roles.length > 0) {\n                            //Create arguments for each role and id pair\n                            const roles = [...new Set(this.claimFilters.roles.flatMap(r => r.role))];\n                            for (const role of roles) {\n                                if (this.claimFilters.entityIds.length > 0) {\n                                    //changing to names since ES query accepts names\n                                    const entityNames = [...new Set(this.claimFilters.entityIds.flatMap(entity => entity.name))];\n                                    for (const name of entityNames) {\n                                        let filterObject = {['eventType']: eventType, ['arguments'] : []};\n                                        let argumentObject = {['role'] : role};\n                                        argumentObject['ids'] = [name];\n                                        filterObject['arguments'].push(argumentObject);\n                                        formattedFilters.push(filterObject);\n                                    }\n                                }\n                                else {\n                                    let filterObject = {['eventType']: eventType, ['arguments'] : []};\n                                    filterObject['arguments'].push({['role'] : role});\n                                    formattedFilters.push(filterObject);\n                                }\n                            }\n                        }\n                        else if (this.claimFilters.entityIds.length > 0) {\n                            //changing to names since ES query accepts names\n                            const entityNames = [...new Set(this.claimFilters.entityIds.flatMap(entity => entity.name))];\n                            for(const name of entityNames) {\n                                let filterObject = {['eventType']: eventType, ['arguments'] : []};\n                                let argumentObject = {['ids'] : [name]};\n                                filterObject['arguments'].push(argumentObject);\n                                formattedFilters.push(filterObject);\n                            }\n                        }\n                        else {\n                            //only add event type\n                            let reformat = {['eventType']: eventType};\n                            formattedFilters.push(reformat);\n\n                        }\n                    }\n                }\n                //role filters were submitted without event types\n                else if(this.claimFilters.roles.length > 0) {\n                    //for each role and id pair, add an argument to the arguments array\n                    const roles = [...new Set(this.claimFilters.roles.flatMap(r => r.role))];\n                    for (const role of roles) {\n                        if (this.claimFilters.entityIds.length > 0) {\n                            //changing to names since ES query accepts names\n                            const entityNames = [...new Set(this.claimFilters.entityIds.flatMap(entity => entity.name))];\n                            for (const name of entityNames) {\n                                let filterObject = {['arguments'] : []};\n                                let argumentObject = {['role'] : role};\n                                argumentObject['ids'] = [name];\n                                filterObject['arguments'].push(argumentObject);\n                                formattedFilters.push(filterObject);\n                            }\n                        }\n                        else {\n                            let filterObject = {['arguments'] : []};\n                            filterObject['arguments'].push({['role'] : role});\n                            formattedFilters.push(filterObject);\n                        }\n                    }\n                }\n                //named entity filters were submitted without event types or roles\n                else if(this.claimFilters.entityIds.length > 0) {\n                    const entityNames = [...new Set(this.claimFilters.entityIds.flatMap(entity => entity.name))];\n                    for(const name of entityNames) {\n                        let filterObject = {['arguments'] : []};\n                        let argumentObject = {['ids'] : [name]};\n                        filterObject['arguments'].push(argumentObject);\n                        formattedFilters.push(filterObject);\n                    }\n                }\n                else {\n                    console.warn('no filters submitted')\n                }\n                return formattedFilters;\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .query-div {\n        @extend .kb-description-wrapper;\n        padding: 10px 0;\n        justify-content: space-between;\n    }\n\n    .query-field-column-wrapper{\n        @include flex-column-nowrap;\n        padding : 0 4px 6px 0;\n    }\n</style>\n\n"],"sourceRoot":"src/views/eval"}]}