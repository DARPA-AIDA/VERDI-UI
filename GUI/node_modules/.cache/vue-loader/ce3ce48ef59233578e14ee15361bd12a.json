{"remainingRequest":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/components/forms/DateFilter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/components/forms/DateFilter.vue","mtime":1640207172531},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/babel-loader/lib/index.js","mtime":1641411773354},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js","mtime":1641411773606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEYXRlUGlja2VyIGZyb20gJ0AvY29tcG9uZW50cy9EYXRlUGlja2VyJzsKaW1wb3J0IFNlbGVjdERyb3Bkb3duIGZyb20gJ0AvY29tcG9uZW50cy9TZWxlY3REcm9wZG93bic7CmltcG9ydCB7REFUQVRZUEVTLCBTRUxFQ1RESVNQTEFZfSBmcm9tICcuLi8uLi91dGlscyc7CmltcG9ydCB7bWFwQWN0aW9uc30gZnJvbSAndnVleCc7CgpsZXQgY2FsY1llc3RlcmRheSA9IG5ldyBEYXRlKCk7CmNhbGNZZXN0ZXJkYXkuc2V0RGF0ZShjYWxjWWVzdGVyZGF5LmdldFVUQ0RhdGUoKSAtIDEpOwpjYWxjWWVzdGVyZGF5LnNldEhvdXJzKDAsMCwwLDApOwoKbGV0IGNhbGNUb2RheSA9IG5ldyBEYXRlKCk7CmNhbGNUb2RheS5zZXRIb3VycygyMyw1OSw1OSw5OTkpOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0RhdGVGaWx0ZXInLAogICAgcHJvcHM6IHsKICAgICAgICBzaG93RGF0ZVRvb2x0aXA6IEJvb2xlYW4KICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIGRhdGVPcGVyYXRvcjogMCwKICAgICAgICBvcGVyYXRvck9wdGlvbnM6IFsKICAgICAgICAgICAgJ0JldHdlZW4nLAogICAgICAgICAgICAnTGFzdCAzMCBEYXlzJywKICAgICAgICAgICAgJ0xhc3QgNjAgRGF5cycsCiAgICAgICAgICAgICdMYXN0IDkwIERheXMnLAogICAgICAgICAgICAnWWVhcicKICAgICAgICBdLAogICAgICAgIHN0YXJ0RGF0ZTogY2FsY1llc3RlcmRheSwKICAgICAgICBlbmREYXRlOiBjYWxjVG9kYXksCiAgICAgICAgbWF4RGF0ZTogY2FsY1RvZGF5LAogICAgICAgIHN0YXJ0TGFiZWw6ICdGcm9tJywKICAgICAgICBlbmRMYWJlbDogJ1RvJywKICAgICAgICBlbmREYXRlRXJyb3I6ICdQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgZW5kIGRhdGUuJywKICAgICAgICBzaG93VG9vbHRpcDogZmFsc2UsCiAgICAgICAgc2VsZWN0RGlzcGxheTogJycKCiAgICB9KSwKICAgIGNvbXBvbmVudHM6IHtEYXRlUGlja2VyLCBTZWxlY3REcm9wZG93bn0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIGxldCBkYXRlT2JqZWN0ID0gIHtzdGFydDogdGhpcy5zdGFydERhdGUsIGVuZDogdGhpcy5lbmREYXRlfTsKICAgICAgICB0aGlzLnVwZGF0ZUZpbHRlcnMoe3R5cGU6IERBVEFUWVBFUy5kYXRlUmFuZ2UuaWQsIGZpbHRlcjpkYXRlT2JqZWN0fSk7CiAgICAgICAgdGhpcy5zaG93VG9vbHRpcCA9IHRoaXMuc2hvd0RhdGVUb29sdGlwOwogICAgICAgIHRoaXMuc2VsZWN0RGlzcGxheSA9IFNFTEVDVERJU1BMQVkuYnV0dG9uOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKFsncmVtb3ZlRmlsdGVyJywgJ3VwZGF0ZUZpbHRlcnMnXSksCiAgICAgICAgb25EYXRlT3B0aW9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICAgIC8vc2V0IGFsbCBzdGFydCB0aW1lcyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBkYXkgYW5kIGVuZCB0aW1lcyB0byB0aGUgZW5kIG9mIHRoZSBkYXkKICAgICAgICAgICAgc3dpdGNoKGV2ZW50LnRhcmdldC52YWx1ZSkgewogICAgICAgICAgICAgICAgY2FzZSB0aGlzLm9wZXJhdG9yT3B0aW9uc1swXSA6IC8vQmV0d2VlbgogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREYXRlID0gY2FsY1llc3RlcmRheTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5vcGVyYXRvck9wdGlvbnNbMV0gOiAvLzMwIERheXMKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU5ld0RhdGUoMzAsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5vcGVyYXRvck9wdGlvbnNbMl0gOiAvLzYwIERheXMKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU5ld0RhdGUoNjAsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5vcGVyYXRvck9wdGlvbnNbM10gOiAvLzkwIERheXMKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU5ld0RhdGUoOTAsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5vcGVyYXRvck9wdGlvbnNbNF0gOiAvLzEgWWVhcgogICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlTmV3RGF0ZSgxLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRlRmlsdGVycygpOwogICAgICAgIH0sCiAgICAgICAgY2FsY3VsYXRlTmV3RGF0ZShudW1iZXIsIGlzWWVhcikgewogICAgICAgICAgICBsZXQgY2FsY05ld0RhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBpZihpc1llYXIpIHsKICAgICAgICAgICAgICAgIGNhbGNOZXdEYXRlLnNldEZ1bGxZZWFyKGNhbGNOZXdEYXRlLmdldFVUQ0Z1bGxZZWFyKCkgLSBudW1iZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgY2FsY05ld0RhdGUuc2V0RGF0ZShjYWxjTmV3RGF0ZS5nZXRVVENEYXRlKCkgLSBudW1iZXIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IGNhbGNOZXdEYXRlOwogICAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZS5zZXRIb3VycygwLDAsMCwwKTsKICAgICAgICB9LAogICAgICAgIHVwZGF0ZVN0YXJ0RGF0ZShzdGFydCkgewogICAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IHN0YXJ0OwogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGVGaWx0ZXJzKCk7CiAgICAgICAgfSwKICAgICAgICB1cGRhdGVFbmREYXRlKGVuZCkgewogICAgICAgICAgICB0aGlzLmVuZERhdGUgPSBlbmQ7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0ZUZpbHRlcnMoKTsKICAgICAgICB9LAogICAgICAgIHVwZGF0ZURhdGVGaWx0ZXJzKCkgewogICAgICAgICAgICBpZih0aGlzLnZhbGlkRm9ybSgpKSB7CiAgICAgICAgICAgICAgICBsZXQgZGF0ZU9iamVjdCA9ICB7c3RhcnQ6IHRoaXMuc3RhcnREYXRlLCBlbmQ6IHRoaXMuZW5kRGF0ZX07CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZpbHRlcnMoe3R5cGU6IERBVEFUWVBFUy5kYXRlUmFuZ2UuaWQsIGZpbHRlcjpkYXRlT2JqZWN0fSkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAgPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWx0ZXIoe3R5cGU6IERBVEFUWVBFUy5kYXRlUmFuZ2UuaWR9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdmFsaWRGb3JtKCkgewogICAgICAgICAgICByZXR1cm4gISghKHRoaXMuc3RhcnREYXRlIGluc3RhbmNlb2YgRGF0ZSkgfHwgISh0aGlzLmVuZERhdGUgaW5zdGFuY2VvZiBEYXRlKSB8fAogICAgICAgICAgICAgICAgdGhpcy5zdGFydERhdGUgPiB0aGlzLmVuZERhdGUpOwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlU2hvd1Rvb2x0aXAodmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5zaG93VG9vbHRpcCA9IHZhbHVlOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["DateFilter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DateFilter.vue","sourceRoot":"src/components/forms","sourcesContent":["<!--\n  - Copyright 2019 Next Century Corporation/CACI\n  -\n  - Licensed under the Apache License, Version 2.0 (the \"License\");\n  - you may not use this file except in compliance with the License.\n  - You may obtain a copy of the License at\n  -\n  -       http://www.apache.org/licenses/LICENSE-2.0\n  -\n  - Unless required by applicable law or agreed to in writing, software\n  - distributed under the License is distributed on an \"AS IS\" BASIS,\n  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  - See the License for the specific language governing permissions and\n  - limitations under the License.\n  -\n  -->\n\n<template>\n    <div class=\"form-wrapper\">\n        <label class=\"secondary-heading\">Date</label>\n        <div class=\"validation-field-wrapper\">\n            <div class=\"select-wrapper\">\n                <label class=\"field-label\">Range Selector</label>\n                <SelectDropdown :options=\"operatorOptions\" :selectDisplay=\"selectDisplay\" @selectDropdownChange=\"onDateOptionChange($event)\"></SelectDropdown>\n            </div>\n        </div>\n        <div class=\"validation-field-wrapper date-picker\">\n            <DatePicker :date=\"startDate\" :label=\"startLabel\" :maxDate=\"maxDate\" @selectedFilterDate = \"updateStartDate($event)\"></DatePicker>\n            <DatePicker :date=\"endDate\" :label=\"endLabel\" :maxDate=\"maxDate\" :showDateTooltip=\"showTooltip\" :message=\"endDateError\"\n                        @selectedFilterDate = \"updateEndDate($event)\"\n                        @updateShowTooltip = \"updateShowTooltip($event)\"\n            ></DatePicker>\n        </div>\n    </div>\n</template>\n\n<script>\n    import DatePicker from '@/components/DatePicker';\n    import SelectDropdown from '@/components/SelectDropdown';\n    import {DATATYPES, SELECTDISPLAY} from '../../utils';\n    import {mapActions} from 'vuex';\n\n    let calcYesterday = new Date();\n    calcYesterday.setDate(calcYesterday.getUTCDate() - 1);\n    calcYesterday.setHours(0,0,0,0);\n\n    let calcToday = new Date();\n    calcToday.setHours(23,59,59,999);\n\n    export default {\n        name: 'DateFilter',\n        props: {\n            showDateTooltip: Boolean\n        },\n        data: () => ({\n            dateOperator: 0,\n            operatorOptions: [\n                'Between',\n                'Last 30 Days',\n                'Last 60 Days',\n                'Last 90 Days',\n                'Year'\n            ],\n            startDate: calcYesterday,\n            endDate: calcToday,\n            maxDate: calcToday,\n            startLabel: 'From',\n            endLabel: 'To',\n            endDateError: 'Please select a valid end date.',\n            showTooltip: false,\n            selectDisplay: ''\n\n        }),\n        components: {DatePicker, SelectDropdown},\n        created() {\n            let dateObject =  {start: this.startDate, end: this.endDate};\n            this.updateFilters({type: DATATYPES.dateRange.id, filter:dateObject});\n            this.showTooltip = this.showDateTooltip;\n            this.selectDisplay = SELECTDISPLAY.button;\n        },\n        methods: {\n            ...mapActions(['removeFilter', 'updateFilters']),\n            onDateOptionChange(event) {\n                //set all start times to the beginning of the day and end times to the end of the day\n                switch(event.target.value) {\n                    case this.operatorOptions[0] : //Between\n                        this.startDate = calcYesterday;\n                        break;\n                    case this.operatorOptions[1] : //30 Days\n                        this.calculateNewDate(30, false);\n                        break;\n                    case this.operatorOptions[2] : //60 Days\n                        this.calculateNewDate(60, false);\n                        break;\n                    case this.operatorOptions[3] : //90 Days\n                        this.calculateNewDate(90, false);\n                        break;\n                    case this.operatorOptions[4] : //1 Year\n                        this.calculateNewDate(1, true);\n                        break;\n                }\n\n                this.updateDateFilters();\n            },\n            calculateNewDate(number, isYear) {\n                let calcNewDate = new Date();\n                if(isYear) {\n                    calcNewDate.setFullYear(calcNewDate.getUTCFullYear() - number);\n                }\n                else {\n                    calcNewDate.setDate(calcNewDate.getUTCDate() - number);\n                }\n\n                this.startDate = calcNewDate;\n                this.startDate.setHours(0,0,0,0);\n            },\n            updateStartDate(start) {\n                this.startDate = start;\n                this.updateDateFilters();\n            },\n            updateEndDate(end) {\n                this.endDate = end;\n                this.updateDateFilters();\n            },\n            updateDateFilters() {\n                if(this.validForm()) {\n                    let dateObject =  {start: this.startDate, end: this.endDate};\n                    this.updateFilters({type: DATATYPES.dateRange.id, filter:dateObject})\n                }\n                else {\n                    this.showTooltip = true;\n                    this.removeFilter({type: DATATYPES.dateRange.id});\n                }\n            },\n            validForm() {\n                return !(!(this.startDate instanceof Date) || !(this.endDate instanceof Date) ||\n                    this.startDate > this.endDate);\n            },\n            updateShowTooltip(value) {\n                this.showTooltip = value;\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .select-wrapper {\n        @include flex-column-nowrap;\n    }\n</style>\n"]}]}