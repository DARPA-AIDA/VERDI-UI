{"remainingRequest":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/components/forms/CategoryFilter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/src/components/forms/CategoryFilter.vue","mtime":1640207172530},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/babel-loader/lib/index.js","mtime":1641411773354},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/cache-loader/dist/cjs.js","mtime":1641411772188},{"path":"/Users/womitowoju/workspace/aida/VERDI-UI/GUI/node_modules/vue-loader/lib/index.js","mtime":1641411773606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSYWRpb0J1dHRvbkRpc3BsYXkgZnJvbSAnQC9jb21wb25lbnRzL1JhZGlvQnV0dG9uRGlzcGxheSc7CmltcG9ydCBBdXRvQ29tcGxldGUgZnJvbSAnQC9jb21wb25lbnRzL0F1dG9Db21wbGV0ZSc7CmltcG9ydCBWYWxpZGF0aW9uVG9vbHRpcCBmcm9tICdAL2NvbXBvbmVudHMvVmFsaWRhdGlvblRvb2x0aXAnOwppbXBvcnQge1NFTEVDVERJU1BMQVl9IGZyb20gJy4uLy4uL3V0aWxzJzsKaW1wb3J0IHttYXBBY3Rpb25zfSBmcm9tICd2dWV4JzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdDYXRlZ29yeUZpbHRlcicsCiAgICBjb21wb25lbnRzOiB7QXV0b0NvbXBsZXRlLCBSYWRpb0J1dHRvbkRpc3BsYXksIFZhbGlkYXRpb25Ub29sdGlwfSwKICAgIHByb3BzOiB7CiAgICAgICAgY3VycmVudEZpbHRlcjogT2JqZWN0LAogICAgICAgIGNhdGVnb3J5RGF0YTogT2JqZWN0LAogICAgICAgIHNob3dDb25kaXRpb25PcHRpb246IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBjdXJyZW50U2VsZWN0ZWRWYWx1ZTogJycsCiAgICAgICAgcHJldmlvdXNTZWxlY3RlZFZhbHVlOiAnJywKICAgICAgICByZXF1ZXN0VG9WYWxpZGF0ZTogZmFsc2UsCiAgICAgICAgYWRkVmFsaWRhdGlvbk9uOiBmYWxzZSwKICAgICAgICBzZWxlY3REaXNwbGF5OiAnJywKICAgICAgICByYWRpb0xhYmVsczpbJ09SJywgJ0FORCddLAogICAgICAgIHJhZGlvVmFsdWU6ICcnCiAgICB9KSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5zZWxlY3REaXNwbGF5ID0gU0VMRUNURElTUExBWS5idXR0b247CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBnZXRGaWx0ZXJWYWx1ZSgpIHsKICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50RmlsdGVyLnZhbHVlID8gdGhpcy5jdXJyZW50RmlsdGVyLnZhbHVlIDogdGhpcy5jdXJyZW50U2VsZWN0ZWRWYWx1ZTsKICAgICAgICB9LAogICAgICAgIHNlbGVjdE9wdGlvbnMoKSB7CiAgICAgICAgICAgIC8vcmV0dXJucyBhbiBhcnJheSBvZiB2YWx1ZXMgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZSBwcmVwZW5kZWQgaWYgcHJvdmlkZWQKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2F0ZWdvcnlEYXRhLmRlZmF1bHRWYWx1ZSAmJiB0aGlzLmNhdGVnb3J5RGF0YS52YWx1ZXMgPyBbdGhpcy5jYXRlZ29yeURhdGEuZGVmYXVsdFZhbHVlLC4uLnRoaXMuY2F0ZWdvcnlEYXRhLnZhbHVlc10gOgogICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeURhdGEudmFsdWVzID8gdGhpcy5jYXRlZ29yeURhdGEudmFsdWVzIDogW107CiAgICAgICAgfSwKICAgICAgICBjdXJyZW50SW5kZXgoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRGaWx0ZXIuaW5kZXg7CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKFsncmVtb3ZlRmlsdGVyJywgJ3VwZGF0ZUZpbHRlcnMnXSksCiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgICAgICAgIHRoaXMucmVxdWVzdFRvVmFsaWRhdGUgPSB0cnVlOwogICAgICAgICAgICB0aGlzLnByZXZpb3VzU2VsZWN0ZWRWYWx1ZSA9IHRoaXMuY3VycmVudFNlbGVjdGVkVmFsdWU7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkVmFsdWUgPSBzZWxlY3Rpb247CiAgICAgICAgICAgIGlmKHRoaXMudmFsaWRGb3JtKCkpIHsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsdGVycyh7dHlwZTogdGhpcy5jYXRlZ29yeURhdGEuaWQsIGluZGV4OiB0aGlzLmN1cnJlbnRJbmRleCwgZmlsdGVyOnNlbGVjdGlvbiwgY29uZGl0aW9uOnRoaXMucmFkaW9WYWx1ZX0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvblJhZGlvQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICAgICAgICAvL2lmIGFuIGV2ZW50IG9iamVjdCBpcyBub3QgcGFzc2VkIGluLCBzZWxlY3Rpb24gaXMgYSBzdHJpbmcgdmFsdWUuCiAgICAgICAgICAgIHRoaXMucmFkaW9WYWx1ZSA9IHNlbGVjdGlvbi50YXJnZXQgPyBzZWxlY3Rpb24udGFyZ2V0LnZhbHVlIDogc2VsZWN0aW9uOwogICAgICAgICAgICBpZih0aGlzLnZhbGlkRm9ybSgpKSB7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZpbHRlcnMoe3R5cGU6IHRoaXMuY2F0ZWdvcnlEYXRhLmlkLCBjb25kaXRpb246IHRoaXMucmFkaW9WYWx1ZX0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhZGRDYXRlZ29yeUZpbHRlckZvcm0oKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2FkZENhdGVnb3J5RmlsdGVyRm9ybScsIHRoaXMuY2F0ZWdvcnlEYXRhLmlkKTsKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHRoaXMub25seUluUXVldWUoKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmFsaWRhdGlvbk9uID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICByZW1vdmVDYXRlZ29yeUZpbHRlckZvcm0oaW5kZXgpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLm9ubHlJblF1ZXVlKCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3JlbW92ZUNhdGVnb3J5RmlsdGVyRm9ybScsIHt0eXBlOiB0aGlzLmNhdGVnb3J5RGF0YS5pZCwgaW5kZXg6IGluZGV4fSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTZWxlY3RlZFZhbHVlID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWx0ZXIoe3R5cGU6IHRoaXMuY2F0ZWdvcnlEYXRhLmlkLCBpbmRleDogaW5kZXh9KTsKICAgICAgICB9LAogICAgICAgIGZpcnN0SW5RdWV1ZShmaXJzdEluZGV4LCBjdXJyZW50SW5kZXgpIHsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGZpcnN0SW5kZXgpID09PSBjdXJyZW50SW5kZXg7CiAgICAgICAgfSwKICAgICAgICBvbmx5SW5RdWV1ZSgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2F0ZWdvcnlEYXRhLnF1ZXVlQ291bnQudmFsdWVPZigpID09PSAxOwogICAgICAgIH0sCiAgICAgICAgdmFsaWRGb3JtKCkgewogICAgICAgICAgICAvL0lmIG5vIHZhbHVlIHdhcyBzZWxlY3RlZCwgYnV0IHRoZXJlIGlzIGEgdmFsdWUgZm9yIHRoaXMgZmlsdGVyCiAgICAgICAgICAgIGlmKHRoaXMuY3VycmVudEZpbHRlci52YWx1ZSAmJiAhdGhpcy5jdXJyZW50U2VsZWN0ZWRWYWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0ZWRWYWx1ZSA9IHRoaXMuY3VycmVudEZpbHRlci52YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL0lmIG5vIHZhbHVlIGlzIHNlbGVjdGVkLCBlbnN1cmUgdGhhdCB0aGVyZSBhcmUgbm8gcHJldmlvdXMgdmFsdWVzIHN0b3JlZCBmb3IgdGhpcyBmaWx0ZXIgYW5kIHJldHVybiBmYWxzZShpbnZhbGlkKQogICAgICAgICAgICBpZih0aGlzLnByZXZpb3VzU2VsZWN0ZWRWYWx1ZSAmJiAhdGhpcy5jdXJyZW50U2VsZWN0ZWRWYWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWx0ZXIoe3R5cGU6IHRoaXMuY2F0ZWdvcnlEYXRhLmlkLCBpbmRleDogdGhpcy5jdXJyZW50SW5kZXh9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gISF0aGlzLmN1cnJlbnRTZWxlY3RlZFZhbHVlOwogICAgICAgIH0sCiAgICAgICAgYWRkQnV0dG9uVmFsaWRhdGlvbih2YWx1ZSkgewogICAgICAgICAgICB0aGlzLmFkZFZhbGlkYXRpb25PbiA9IHZhbHVlOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["CategoryFilter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CategoryFilter.vue","sourceRoot":"src/components/forms","sourcesContent":["<!--\n  - Copyright 2019 Next Century Corporation/CACI\n  -\n  - Licensed under the Apache License, Version 2.0 (the \"License\");\n  - you may not use this file except in compliance with the License.\n  - You may obtain a copy of the License at\n  -\n  -       http://www.apache.org/licenses/LICENSE-2.0\n  -\n  - Unless required by applicable law or agreed to in writing, software\n  - distributed under the License is distributed on an \"AS IS\" BASIS,\n  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  - See the License for the specific language governing permissions and\n  - limitations under the License.\n  -\n  -->\n\n<template>\n    <div class=\"form-wrapper\" :id=\"currentIndex\">\n        <div class=\"filter-form-label\" v-if=\"firstInQueue(categoryData.firstFilterIndex, currentIndex)\">\n            <label>{{categoryData.title}}</label>\n            <div v-if=\"showConditionOption\">\n                <RadioButtonDisplay  class=\"custom-radio-div\" :id=\"currentIndex\" :labels=\"radioLabels\" @radioButtonChange=\"onRadioChange($event)\"></RadioButtonDisplay>\n            </div>\n            <button class=\"dark-icon-button\">\n                <v-icon id=\"filter_add_icon\"  @click.prevent=\"addCategoryFilterForm()\">mdi-plus-circle</v-icon>\n            </button>\n        </div>\n        <span class=\"validation-field-wrapper\">\n            <div class=\"filter-wrapper flex-grow-1\">\n                <div class=\"filter-input-box\">\n                    <AutoComplete class=\"filter-input\"\n                                  :items=\"selectOptions\"\n                                  :inputValue=\"getFilterValue\"\n                                  :required=requestToValidate\n                                  :placeholder=\"'Search ' + categoryData.title\"\n                                  :clearable=\"false\"\n                                  :enterKeySubmit=false\n                                  @autoCompleteSubmission=\"onSelectionChange($event)\"\n                                  @autoCompleteClear=\"onSelectionChange($event)\"\n                    ></AutoComplete>\n                </div>\n            </div>\n            <button class=\"dark-icon-button\">\n                <v-icon class=\"filter_delete_icon\" @click.prevent=\"removeCategoryFilterForm(currentIndex)\">mdi-minus-circle</v-icon>\n            </button>\n        </span>\n        <ValidationTooltip  :icon=\"'mdi-alert-box'\" :message=\"'Please fill out this field.'\" :displayClass=\"'autocomplete'\" :showTooltip=\"addValidationOn\" :refId=\"currentIndex\" @updateShowTooltip=\"addButtonValidation($event)\"></ValidationTooltip>\n    </div>\n</template>\n\n<script>\n    import RadioButtonDisplay from '@/components/RadioButtonDisplay';\n    import AutoComplete from '@/components/AutoComplete';\n    import ValidationTooltip from '@/components/ValidationTooltip';\n    import {SELECTDISPLAY} from '../../utils';\n    import {mapActions} from 'vuex';\n\n    export default {\n        name: 'CategoryFilter',\n        components: {AutoComplete, RadioButtonDisplay, ValidationTooltip},\n        props: {\n            currentFilter: Object,\n            categoryData: Object,\n            showConditionOption: {\n                type: Boolean,\n                default: false\n            }\n        },\n        data: () => ({\n            currentSelectedValue: '',\n            previousSelectedValue: '',\n            requestToValidate: false,\n            addValidationOn: false,\n            selectDisplay: '',\n            radioLabels:['OR', 'AND'],\n            radioValue: ''\n        }),\n        created() {\n            this.selectDisplay = SELECTDISPLAY.button;\n        },\n        computed: {\n            getFilterValue() {\n               return this.currentFilter.value ? this.currentFilter.value : this.currentSelectedValue;\n            },\n            selectOptions() {\n                //returns an array of values with the default value prepended if provided\n                return this.categoryData.defaultValue && this.categoryData.values ? [this.categoryData.defaultValue,...this.categoryData.values] :\n                    this.categoryData.values ? this.categoryData.values : [];\n            },\n            currentIndex() {\n                return this.currentFilter.index;\n            }\n        },\n        methods: {\n            ...mapActions(['removeFilter', 'updateFilters']),\n            onSelectionChange(selection) {\n                this.requestToValidate = true;\n                this.previousSelectedValue = this.currentSelectedValue;\n                this.currentSelectedValue = selection;\n                if(this.validForm()) {\n                    this.updateFilters({type: this.categoryData.id, index: this.currentIndex, filter:selection, condition:this.radioValue});\n                }\n            },\n            onRadioChange(selection) {\n                //if an event object is not passed in, selection is a string value.\n                this.radioValue = selection.target ? selection.target.value : selection;\n                if(this.validForm()) {\n                    this.updateFilters({type: this.categoryData.id, condition: this.radioValue});\n                }\n            },\n            addCategoryFilterForm() {\n                this.$emit('addCategoryFilterForm', this.categoryData.id);\n                this.$nextTick(() => {\n                    if (this.onlyInQueue()) {\n                        this.addValidationOn = true;\n                    }\n                });\n            },\n            removeCategoryFilterForm(index) {\n                if (!this.onlyInQueue()) {\n                    this.$emit('removeCategoryFilterForm', {type: this.categoryData.id, index: index});\n                } else {\n                    this.currentSelectedValue = '';\n                }\n                this.removeFilter({type: this.categoryData.id, index: index});\n            },\n            firstInQueue(firstIndex, currentIndex) {\n                return parseInt(firstIndex) === currentIndex;\n            },\n            onlyInQueue() {\n                return this.categoryData.queueCount.valueOf() === 1;\n            },\n            validForm() {\n                //If no value was selected, but there is a value for this filter\n                if(this.currentFilter.value && !this.currentSelectedValue) {\n                    this.currentSelectedValue = this.currentFilter.value;\n                }\n                //If no value is selected, ensure that there are no previous values stored for this filter and return false(invalid)\n                if(this.previousSelectedValue && !this.currentSelectedValue) {\n                    this.removeFilter({type: this.categoryData.id, index: this.currentIndex});\n                }\n                return !!this.currentSelectedValue;\n            },\n            addButtonValidation(value) {\n                this.addValidationOn = value;\n            }\n        }\n    }\n</script>\n"]}]}